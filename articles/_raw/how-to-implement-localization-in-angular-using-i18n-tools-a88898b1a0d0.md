---
title: How to implement localization in Angular using i18n tools
subtitle: ''
author: freeCodeCamp
co_authors: []
series: null
date: '2019-02-08T17:39:16.000Z'
originalURL: https://freecodecamp.org/news/how-to-implement-localization-in-angular-using-i18n-tools-a88898b1a0d0
coverImage: https://cdn-media-1.freecodecamp.org/images/1*Ov4vHlZxjYYJ_QigtwzXdQ.jpeg
tags:
- name: Angular
  slug: angular
- name: i18n
  slug: i18n
- name: JavaScript
  slug: javascript
- name: General Programming
  slug: programming
- name: 'tech '
  slug: tech
seo_title: null
seo_desc: 'By Ankit Sharma

  Introduction

  In this article, we will learn how to make our Angular app available in different
  languages using i18n and localization. We will create an Angular application and
  configure it to serve the content in three different langu...'
---

By Ankit Sharma

### Introduction

In this article, we will learn how to make our Angular app available in different languages using i18n and localization. We will create an Angular application and configure it to serve the content in three different languages. We will also deploy our app to Google Firebase and see how localization works in real time.

We will use Angular 7 and VS Code to develop our application. Take a look at the application output.

![Image](https://cdn-media-1.freecodecamp.org/images/0e2O3oZyXvSnQWEfH-a3dDFoLaHZFrV5-Vtw)

### Source Code

Get the source code for this application from [GitHub](https://github.com/AnkitSharma-007/angular-i18n-localization).

### What is i18n?

`I18n` , also known as internationalization, is the process of making our app support various languages to extend the reach to a worldwide audience.

### What is Localization?

Localization is the process for translating the app to a particular language. We need to apply internationalization to the application and after that we can localize it. Localization allows us to serve our application in different languages.

### Creating an Angular 7 app

The first step is to create an Angular 7 app. If you are new to Angular, I would suggest you to read my article [Getting Started With Angular 7.0](https://ankitsharmablogs.com/getting-started-with-angular-7-0/) to learn how to set up Angular development environment in your machine.

Run the following command to create the app.

```
ng new i18nDemo
```

Open the i18nDemo app using VS code.

### Setting up the app component

Open `app.component.html` file. Replace the already existing text with the following code.

```
<h1 i18n>  Localization Demo in Angular using i18n</h1><h3 i18n="@@myName">  Hello, My name is Ankit</h3><p>This text will remain same in all languages</p><hr />
```

You can observe that we have marked `<`h1>`; an`d <h3> tags with i18n attribute. This is a way to tell the Angular to consider this text as translatable content. We will explore i18n attribute in detail in the next section.

### Creating a translation source file

Run the following command in the CLI to create a translation source file.

```
ng xi18n --output-path translate
```

It will create a folder called translate and create a `messages.xlf` file inside it. Open the file and you can observe the following XML code inside it.

```
<?xml version="1.0" encoding="UTF-8" ?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2">  <file source-language="en" datatype="plaintext" original="ng2.template">    <body>      <trans-unit id="3f2feb6d5fb690628177afa3ade2519db69ba838" datatype="html">        <source>Localization Demo in Angular using i18n</source>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">1</context>        </context-group>      </trans-unit>      <trans-unit id="myName" datatype="html">        <source>Hello, My name is Ankit</source>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">5</context>        </context-group>      </trans-unit>    </body>  </file></xliff>
```

This file contains a list of `<trans-un`it> tags. These tags will have all the content that was marked for translation using i18n attribute. You can also observe that `each <tr`ans-unit> tag has an id property associated with it. This unique id will be generated by default for each tag that was marked with i18n attribute. We can also customize the id by providing a name pr`ef`ixed with @@ as we hav`e do`ne with <h3> tag in previous section. `Henc`e, the id for <h3> tag is “myName” as we defined it.

There is no entry for the `<`;p> tag in translation file because we have not marked it with i18n attribute. Angular translation tool will not consider it for translations.

If you change the text for any tag in your HTML file, you need to regenerate the translation file. Regenerating the file will override the default id of `<trans-un`it> tags. Hence, it is advisable to provide custom ids to each translatable tag to maintain consistency.

Hence, we have successfully implemented i18n to our app. In the next section, we will extend it to make it available to different languages.

### Translating the content

We will translate our application into two new languages apart from English, which are Spanish and Hindi. Make three copies of the messages.xlf file and rename them to `messages.en.xlf`, `messages.es.xlf` and `messages.hi.xlf`. These file names can be customized as per your choice, but the extension should be `.xlf`.

Open messages.es.xlf and put in the following content in it.

```
<?xml version="1.0" encoding="UTF-8" ?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2">  <file source-language="en" datatype="plaintext" original="ng2.template">    <body>      <trans-unit id="3f2feb6d5fb690628177afa3ade2519db69ba838" datatype="html">        <source>Localization Demo in Angular using i18n</source>        <target>Demostración de localización en angular usando i18n</target>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">1</context>        </context-group>      </trans-unit>      <trans-unit id="myName" datatype="html">        <source>Hello, My name is Ankit</source>        <target>Hola, mi nombre es Ankit</target>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">5</context>        </context-group>      </trans-unit>    </body>  </file></xliff>
```

This is the same content as the original messages.xlf file, but we have added a `<targ`et> tag corresponding to `each &l`t;source&g`t; tag.` The <target> tag contains the translated text for the c`ontent i`nside the <source> tag. Here I am using Google translate for the translation, but in real time applications, a language expert will tran`slate the co`ntents from messages.xlf file.

Similarly, open the messages.hi.xlf and put in the following content in it.

```
<?xml version="1.0" encoding="UTF-8" ?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2">  <file source-language="en" datatype="plaintext" original="ng2.template">    <body>      <trans-unit id="3f2feb6d5fb690628177afa3ade2519db69ba838" datatype="html">        <source>Localization Demo in Angular using i18n</source>        <target>I18n का उपयोग कर कोणीय में स्थानीयकरण डेमो</target>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">1</context>        </context-group>      </trans-unit>      <trans-unit id="myName" datatype="html">        <source>Hello, My name is Ankit</source>        <target>हेलो, मेरा नाम अंकित है</target>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">5</context>        </context-group>      </trans-unit>    </body>  </file></xliff>
```

Finally, we will make the English translation file. Open messages.en.xlf and put in the following content in it.

```
<?xml version="1.0" encoding="UTF-8" ?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2">  <file source-language="en" datatype="plaintext" original="ng2.template">    <body>      <trans-unit id="3f2feb6d5fb690628177afa3ade2519db69ba838" datatype="html">        <source>Localization Demo in Angular using i18n</source>        <target>Localization Demo in Angular using i18n</target>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">1</context>        </context-group>      </trans-unit>      <trans-unit id="myName" datatype="html">        <source>Hello, My name is Ankit</source>        <target>Hello, My name is Ankit</target>        <context-group purpose="location">          <context context-type="sourcefile">app/app.component.html</context>          <context context-type="linenumber">5</context>        </context-group>      </trans-unit>    </body>  </file></xliff>
```

### Configure the app to serve in multiple languages

Open `angular.json` file and add the following configuration.

```
"build": {  ...  "configurations": {    ...    "es": {      "aot": true,      "i18nFile": "src/translate/messages.es.xlf",      "i18nFormat": "xlf",      "i18nLocale": "es",      "i18nMissingTranslation": "error"    }  }},"serve": {  ...  "configurations": {    ...    "es": {      "browserTarget": "i18nDemo:build:es"    }  }}
```

Here we have added the configuration for the Spanish language. We have provided the path and format for i18n file and set the locale to “es”. When we execute the application, the app’s content will be served from the i18n file path provided.

Similarly you can add configuration for other languages.

### Execution Demo

Once you have added the configuration for all the languages in angular.json file, run the following command to start the server.

```
ng serve --configuration=es
```

This will launch the application in “es” configuration and our app will show the Spanish language translations.

Refer to the output screen as shown below:

![Image](https://cdn-media-1.freecodecamp.org/images/MhSiyU2dmWORN8ApRVKLaQ0eXuxmeNIWGtzg)

The configurations that we have defined will only help the app run in the local machine. We cannot change the configuration once the app is launched.

A production app will need the application to serve for different languages just by changing the URL. For example, `mywebsite.com/es` will provide the Spanish version of site, and `mywebsite.com/en` will provide the English version. In this case, the app will be served from different virtual directories for different languages. We will explore how to do this in next section.

### Modify the app component for production

Open `app.component.ts` and put in the following code.

```
import { Component, LOCALE_ID, Inject } from '@angular/core';@Component({  selector: 'app-root',  templateUrl: './app.component.html',  styleUrls: ['./app.component.css']})export class AppComponent {  title = 'i18nDemo';  languageList = [    { code: 'en', label: 'English' },    { code: 'hi', label: 'हिंदी' },    { code: 'es', label: 'Espanol' }  ];  constructor(@Inject(LOCALE_ID) protected localeId: string) { }}
```

Here we have defined a list of languages and their locale codes. These locale codes are standard codes. You can easily get a list of languages and the corresponding locale codes by a simple Google search.

Add the following codes in `app.component.html` file.

```
<ng-container *ngFor="let language of languageList"> <a href="/{{language.code}}/"> <button class="button">{{language.label}}</button> </a></ng-container>
```

Here we have defined three buttons for three languages. On each button click, the locale id will change and the locale id will be appended to the URL also. This will allow us to serve the application from a different directory.

Put the following code in `app.component.css` file to apply styles to these buttons.

```
.button {  background-color: darkslateblue;  border-radius: 5px;  color: white;  padding: 5px;  width: 10%;  margin: 5px;  text-decoration: none;  cursor: pointer;}
```

### Script to compile the app for production

We need to have three different serving locations for three different languages. To build the application package for one language for production, we will use the following command:

```
ng build --prod --i18n-locale es --i18n-format xlf --i18n-file src/translate/messages.es.xlf --output-path=dist/es --baseHref /es/
```

Let us understand this command. We provided the locale id for the package, which is “es” for Spanish. We also provide the i18n file path and format. The output path property is required to provide the location for the application package. The baseHref property specifies the base URL from which this package will be served.

We need to run this command for every language we will provide by changing the i18n file path and `baseHref` attribute values. However, this will be a cumbersome task if we have a lot of languages. Therefore, we will write a script to generate a package for all languages. Open `package.json` file and add the following scripts inside the “scripts” section.

```
"build-locale:en": "ng build --prod --i18n-locale en --i18n-format xlf --i18n-file src/translate/messages.en.xlf --output-path=dist/en --baseHref /en/","build-locale:es": "ng build --prod --i18n-locale es --i18n-format xlf --i18n-file src/translate/messages.es.xlf --output-path=dist/es --baseHref /es/","build-locale:hi": " ng build --prod --i18n-locale hi --i18n-format xlf --i18n-file src/translate/messages.hi.xlf --output-path=dist/hi --baseHref /hi/","build-locale": "npm run build-locale:en && npm run build-locale:es && npm run build-locale:hi"
```

Here we have created three scripts for the three languages we are using. The “build-locale” script will execute all of them at once. All these scripts are key-value pairs. The key names we are using here are customizable and you can use any name of your choice. To create the application package for all the languages, run the following command:

```
npm run build-locale
```

On successful execution, it will create a “dist” folder in the application’s root folder. The dist folder has three sub-folders to serve our application in three different languages. Refer to the image shown below:

![Image](https://cdn-media-1.freecodecamp.org/images/P1mWtTZoaGhfnY9SiqfQbgWiuIVszUDlhvpo)

### Deploying the application on Firebase

We will deploy this application on Firebase to see the language change in real time. Refer to my article [Hosting A Blazor Application on Firebase](https://ankitsharmablogs.com/hosting-a-blazor-application-on-firebase/) and follow the steps mentioned to deploy this Angular app on Firebase.

Once the application is deployed, you will get the hosting URL. Open the URL and append the baseHref attribute as we defined earlier, to the URL. Hence, the URL will be `yoursite.com/es/` for the Spanish language and so on.

The application, which we built here, is hosted at [https://i18ndemo-415ef.firebaseapp.com/en/](https://i18ndemo-415ef.firebaseapp.com/en/). If you open this URL, you will see the output as shown below:

![Image](https://cdn-media-1.freecodecamp.org/images/x2T6UIVUkrAKqr7yqXy7ZL6dSqwyZ592UKt0)

Click on the links provided. The URL will change and the application will reload in the new language.

### Conclusion

In this post, we learned how to internationalize our Angular app using i18n tools. We also applied localization to our Angular application. Localization allows us to serve our app in different languages, which helps in extending the reach to a worldwide audience. We also learned how localization works in a production environment by deploying our application on Firebase.

Get the source code from [GitHub](https://github.com/AnkitSharma-007/angular-i18n-localization) and play around for a better understanding.

Are you preparing for interviews?! Read my article on [C# Coding Questions For Technical Interviews](https://ankitsharmablogs.com/csharp-coding-questions-for-technical-interviews/)

### See Also

* [Understanding Server-side Blazor](https://ankitsharmablogs.com/understanding-server-side-blazor/)
* [Understanding Angular 6 Animations](https://ankitsharmablogs.com/understanding-angular-6-animations/)
* [ASP.NET Core — Using Highcharts With Angular 5](https://ankitsharmablogs.com/asp-net-core-using-highcharts-with-angular-5/)
* [ASP.NET Core — CRUD Using Angular 5 And Entity Framework Core](https://ankitsharmablogs.com/asp-net-core-crud-using-angular-5-and-entity-framework-core/)
* [CRUD Operations With ASP.NET Core Using Angular 5 and ADO.NET](https://ankitsharmablogs.com/crud-operations-asp-net-core-using-angular-5-ado-net/)

Originally published at [https://ankitsharmablogs.com/](https://ankitsharmablogs.com/)


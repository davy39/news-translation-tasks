---
title: Le guide ultime pour un WordPress haute performance
subtitle: ''
author: Beau Carnes
co_authors: []
series: null
date: '2023-08-15T14:35:11.000Z'
originalURL: https://freecodecamp.org/news/the-ultimate-guide-to-high-performance-wordpress
coverImage: https://www.freecodecamp.org/news/content/images/2023/08/wordpressop.png
tags:
- name: WordPress
  slug: wordpress
- name: youtube
  slug: youtube
seo_title: null
seo_desc: Il existe de nombreuses stratégies pour augmenter les performances de vos sites WordPress et autres sites web. Dans ce guide, nous vous montrerons comment identifier et résoudre les problèmes de performance pour de bon. Ce guide combine plus de 20 ans d'expérience...
---

Il existe de nombreuses stratégies que vous pouvez mettre en œuvre pour augmenter les performances de vos sites WordPress et autres sites web. Dans ce guide, nous vous montrerons comment identifier et résoudre définitivement les problèmes de performance. Ce guide combine plus de 20 ans d'expérience dans l'ajustement de serveurs, de CDN et de code de site web pour offrir des sites WordPress de haute performance.

Ce guide a été élaboré par l'équipe d'InMotion Hosting. Ils proposent de l'hébergement web, des serveurs et de l'hébergement WordPress dans le cloud.

J'ai créé un cours basé sur ce guide (et d'autres ressources) pour apprendre aux gens comment améliorer les performances de leurs sites web WordPress et non-WordPress. Vous pouvez regarder le cours ci-dessous ou [sur la chaîne YouTube de freeCodeCamp.org](https://www.youtube.com/watch?v=0yM0Z8VqQMY). InMotion Hosting a fourni une subvention pour rendre ce cours vidéo possible. Juste après la vidéo intégrée, vous pourrez commencer à lire le guide.

%[https://www.youtube.com/watch?v=0yM0Z8VqQMY]

Voici les principales mesures que vous pouvez prendre dès maintenant pour obtenir des résultats immédiats en matière de performance :

*   Définir vos objectifs de performance
*   Comprendre une requête de site web
*   Configuration DNS et CDN
*   Configuration et réglage du serveur pour WordPress
*   Techniques de mise en cache
*   Optimisation de l'application WordPress
*   Surveillance et ajustement

La performance d'un site web est un facteur critique dans le succès de tout site, et l'optimisation de votre site pour la vitesse devrait être une priorité absolue. Ce guide est une ressource inestimable pour quiconque cherche à optimiser les performances de son site web et à obtenir un avantage concurrentiel sur le marché en ligne. En suivant les conseils pratiques et les meilleures pratiques décrits dans ce guide, vous pouvez améliorer les performances de votre site web et offrir à vos utilisateurs une expérience en ligne rapide, efficace et agréable.

## Définir vos objectifs de performance

Déterminer des objectifs pour optimiser la vitesse et les performances d'un site web est crucial pour atteindre les résultats souhaités. Voici quelques étapes pour vous aider à établir des buts et objectifs clairs :

*   **Définissez votre objectif :** Commencez par comprendre pourquoi vous souhaitez optimiser la vitesse et les performances de votre site. Est-ce pour améliorer l'expérience utilisateur, réduire les taux de rebond, améliorer les taux de conversion ou obtenir un meilleur classement dans les moteurs de recherche ? Clarifier votre objectif guidera votre processus de définition des buts.
*   **Analysez les performances actuelles :** Utilisez des outils comme Google Lighthouse, Google PageSpeed Insights, Google Search Console ou WebPageTest pour évaluer la vitesse et les performances actuelles de votre site web. Identifiez les domaines où des améliorations sont nécessaires, tels que des temps de chargement lents, un poids de page excessif ou des temps de réponse du serveur élevés. Ces informations vous aideront à prioriser et à fixer des objectifs spécifiques.
*   **Priorisez les métriques :** Déterminez quelles métriques de performance sont les plus importantes pour votre site web. Les métriques courantes incluent le temps de chargement de la page, le temps jusqu'au premier octet (TTFB), le temps de début de rendu et le temps interactif. Alignez ces métriques avec votre objectif pour identifier les domaines les plus critiques à améliorer.
*   **Fixez des cibles mesurables :** Établissez des objectifs spécifiques, mesurables, atteignables, pertinents et temporels (SMART). Par exemple, fixez-vous comme objectif de réduire le temps de chargement de la page de 30 % en trois mois ou d'atteindre un TTFB inférieur à 200 millisecondes. Des cibles claires fourniront un point de référence pour les progrès et vous aideront à rester concentré.
*   **Tenez compte des attentes des utilisateurs :** Comprenez les attentes et le comportement de navigation de votre public cible. Différents sites web peuvent nécessiter différents niveaux d'optimisation en fonction de leur base d'utilisateurs. Tenez compte de facteurs tels que l'utilisation des appareils (mobile vs ordinateur de bureau), la localisation géographique et les vitesses de connexion pour adapter vos objectifs en conséquence.
*   **Décomposez-le :** Divisez vos objectifs d'optimisation en tâches plus petites et réalisables. Par exemple, optimiser la taille des images, minifier le CSS et le JavaScript, exploiter la mise en cache du navigateur ou implémenter un réseau de diffusion de contenu (CDN). Décomposer les objectifs en étapes gérables les rend plus réalisables et permet des améliorations progressives.
*   **Surveillez et itérez :** Surveillez régulièrement les performances de votre site web à l'aide d'outils de surveillance des performances ou d'analyses de site web. Suivez les progrès vers vos objectifs et identifiez les domaines nécessitant une optimisation supplémentaire. Itérez continuellement vos stratégies pour vous adapter aux technologies changeantes et aux attentes des utilisateurs.

En suivant ces étapes, vous pouvez établir des objectifs bien définis pour optimiser la vitesse et les performances de votre site web. N'oubliez pas que les objectifs doivent être alignés avec la raison d'être de votre site web, mesurables et adaptables aux besoins évolutifs.

## Outils de test de performance

Il existe de nombreux outils de test disponibles en ligne pour évaluer les performances de votre site web. Dans cette section, nous voulons qu'un site web soit mieux classé sur Google, nous utiliserons donc les outils de Google pour atteindre nos objectifs. Il existe également d'autres outils d'optimisation assez géniaux tels que GTMetrix, Pingdom et bien d'autres.

### Google Lighthouse

Avant d'expliquer comment évaluer votre site avant l'optimisation, passons en revue un aperçu rapide de la façon dont les différents éléments sont pondérés dans les tests Lighthouse. Le [Calculateur de score Lighthouse](https://googlechrome.github.io/lighthouse/scorecalc/) donne ces informations en un coup d'œil, et vous permet même d'insérer vos propres scores pour comprendre comment votre score global PageSpeed est calculé.

Dans les outils de développement de Chrome (DevTools), vous pouvez utiliser l'inspecteur de code pour accéder à l'extension Open Source pour Google Lighthouse. C'est utile car elle exécute des tests directement dans votre navigateur et génère un rapport pour vous sur la façon dont le site web que vous regardez se compare pour les versions mobile et bureau. Ce test vous donne des informations sur les performances, l'accessibilité, les meilleures pratiques et le SEO.

<table style="border:none;border-collapse:collapse;table-layout:fixed;width:540pt"><colgroup><col></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:middle;background-color:#d9ead3;padding:7.2pt 7.2pt 7.2pt 7.2pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;margin-top:2pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Astuce :</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> Lors de l'exécution d'un test avec DevTools, vous devez utiliser une </span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">fenêtre de navigation privée</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> ou un </span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">compte invité</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, car les extensions de navigateur interfèrent généralement avec le test et faussent les résultats.</span></p></td></tr></tbody></table>

![Image](https://lh3.googleusercontent.com/D2CQPF9AM7a1yPNRcV4giv33JURmZUqlL835A-B0lWNlIpdZzjbYWGJQCxAJvZFkYbKeRbGmf9eI8GqgZF7cm4VXVr2LXnQgyEwhYngtNVCCrdWnonMvHPiqTTkqCh9QnZLL4EW0aFkl5S1NlzHOW9A)

_Exemple de ce à quoi ressemble ce rapport dans votre navigateur_

Google Lighthouse fournit également une liste d'« opportunités » avec des éléments que vous pouvez optimiser sur votre page pour améliorer la vitesse de votre site et, par procuration, améliorer le score de performance de votre page.

![Image](https://lh5.googleusercontent.com/Ici_9dLO67AFC2jm0mLxBmc4V2MZE6CTA4x-1dtU8D35zbQQBL8nNR9CjSX8S-Ry3p1JWGXXnvb5o6IX8eH77-Je74mkR7vRDzNDQvy4AA_i3AENwott94NwxzndVstIPLSz2Xvi0nbQDUhOOeNSRI8)

### PageSpeed Insights

[PageSpeed Insights](https://pagespeed.web.dev/) (PSI) est un outil en ligne qui teste votre site et fournit ensuite un score pour les appareils mobiles et les ordinateurs de bureau. Vous verrez un score et une ventilation des métriques utilisées pour déterminer les performances de votre site. PSI fournira également une ventilation des problèmes causant des ralentissements de la performance de votre site. Des recommandations sont fournies sur les actions que vous pouvez entreprendre pour améliorer les performances. PSI utilise des simulations et des données réelles (lorsqu'elles sont disponibles) pour fournir ses scores.

![Image](https://lh3.googleusercontent.com/yCrObZfCoAkmCcuLpMa4TfevoIDlt9N94a2G-0s0VoS14OJLsWcvFXKbuLY_ljfJ-sG4xO_3bppSa-AiCAkrMnCnxU7yGdzhcbQyAmbSPnKCQ9_gBDZtIPkkPDP3UPBy2AeSamkr2xQLPFSY4yyn3nM)

**Rapport d'expérience utilisateur Chrome (CrUX)**

Le rapport d'expérience utilisateur Chrome est également appelé les métriques Core Web Vitals (Signaux Web Essentiels). Il s'agit d'un agrégat de métriques d'expérience utilisateur compilé à partir d'utilisateurs réels qui ont visité votre site web au cours des 28 derniers jours.

![Image](https://lh4.googleusercontent.com/sKvUxNDEkANprvlnLFYG1LeLDuYXP-Iov-dP27xyhzTdiu4oSRGQGd0Ix5aZW7uxd8Du0Em60Y4PuLjCVz9YTFRe4HLnk2BOb7zuOoiqWPdoaqb82PaUZ4TFjpo_Aao-cLV18FjiH0Z8yNmhO7uwdAk)

Ces données ne sont cependant pas exhaustives. Ces utilisateurs sont limités aux personnes qui ont choisi de synchroniser leur historique de navigation avec Chrome, et les données sont mises à disposition par PageSpeed Insights, le projet BigQuery de Google et Data Studio. Bien qu'il s'agisse d'informations utiles lors de l'optimisation de votre site web pour la vitesse et les performances, elles ne sont pas représentatives de l'expérience de tout le monde avec votre site.

### Google Search Console

Le rapport Expérience sur la page dans la Search Console de Google vous fournit un résumé de leur mesure de l'expérience utilisateur de vos visiteurs. Google évalue ces métriques pour les URL individuelles de votre site web et les utilisera comme signal de classement dans les résultats de recherche.

Ce rapport couvre les Core Web Vitals, l'ergonomie mobile et l'utilisation du HTTPS pour chaque page que vous avez dans l'index de Google. Pour qu'une page soit comptabilisée dans les données de ce rapport, elle doit également avoir simultanément des données dans le rapport Core Web Vitals.

### Autres outils de test de performance

Nous devrions également mentionner d'autres outils car cette liste n'est en aucun cas exhaustive.

En bref, il existe une tonne d'outils professionnels que vous pouvez utiliser pour mesurer les performances de votre site web, tels que [GTMetrix](https://gtmetrix.com/), [Pingdom](https://www.webpagetest.org/), [WebPageTest](https://www.webpagetest.org/), et plus encore.

Tout outil que vous utiliserez vous guidera sur les choses à faire pour améliorer la vitesse de votre site web.

## Pourquoi mes scores sont-ils toujours différents ?

De nombreux facteurs auront un impact sur le score que vous voyez lors de ces tests. Ces variables peuvent aller de votre emplacement par rapport au site web, à l'activité sur votre serveur, aux routes réseau et même à l'activité sur votre ordinateur local.

En raison de ces facteurs et de bien d'autres, aucun test ne montrera exactement les mêmes résultats.

Cependant, avec un peu de persévérance, vous pouvez minimiser l'impact que votre serveur et votre site web apportent dans l'équation. Suivez simplement les suggestions, apprenez-en plus à leur sujet et mettez en œuvre les meilleures pratiques. Cela augmentera la probabilité que vos visiteurs aient une bonne expérience utilisateur. Consultez la documentation sur la [variabilité des scores de Lighthouse](https://github.com/GoogleChrome/lighthouse/blob/main/docs/variability.md) pour un tableau contenant plusieurs sources courantes de variabilité des métriques, l'impact qu'elles ont sur les résultats et la mesure dans laquelle elles sont susceptibles de se produire dans différents environnements.

## Indicateurs de vitesse et de performance

Lors du test des performances de votre site web et de l'élaboration de votre plan d'attaque, l'outil que vous utilisez dictera les métriques utilisées dans l'audit. Voici les principaux indicateurs de performance auxquels prêter attention. Nous vous recommandons de vous concentrer sur l'obtention de scores de réussite (verts) sur les Core Web Vitals avant de passer aux autres métriques de performance.

### Core Web Vitals (Signaux Web Essentiels)

La clé du succès pour votre site web est de se concentrer sur l'expérience utilisateur. Les Core Web Vitals de Google sont un ensemble de métriques qui mesurent l'expérience utilisateur réelle en termes de performance de chargement, d'interactivité et de stabilité visuelle de la page. Ces métriques sont conçues pour vous aider à comprendre la qualité de l'expérience utilisateur sur votre site par rapport aux autres sites sur le web.

Les [Core Web Vitals](https://www.inmotionhosting.com/blog/core-web-vitals/) sont décomposés en un sous-ensemble de signaux d'expérience de page qui s'appliquent à tous les sites web et doivent être mesurés par les propriétaires de sites. Les métriques qui composent les Core Web Vitals sont sujettes à évoluer avec le temps car ces signaux ne sont pas gravés dans le marbre, et sont destinés à changer au fil du temps pour continuer à améliorer l'expérience utilisateur globale sur le web.

Les signaux d'expérience de page et les Core Web Vitals sont les meilleurs signaux dont disposent les développeurs pour mesurer et améliorer la qualité de l'expérience utilisateur, et ils sont décomposés en Largest Contentful Paint (LCP), First Input Delay (FID) et Cumulative Layout Shift (CLS). Ci-dessous, nous décrirons ce qu'est chaque signal, et partagerons quelques meilleures pratiques et étapes à suivre pour vous assurer d'améliorer les performances de votre site web par rapport à chaque métrique.

Les outils qui mesurent les Core Web Vitals considèrent qu'une page réussit si elle atteint l'objectif recommandé du 75e centile pour les 3 métriques.

### Largest Contentful Paint (LCP)

Le LCP mesure la performance de chargement de votre site web. Afin de fournir une bonne expérience utilisateur à vos visiteurs, votre LCP doit se produire dans les 2,5 secondes suivant le chargement initial de la page.

Les types d'éléments qui sont pris en compte pour le Largest Contentful Paint sont généralement des images ou des vidéos. Il est important de comprendre qu'un élément ne peut être considéré comme le LCP qu'une fois qu'il est rendu et que l'utilisateur peut le voir.

Cette métrique est également liée au First Contentful Paint (FCP), qui mesure le temps nécessaire au rendu du contenu DOM initial, mais le FCP ne tient pas compte du temps nécessaire au rendu du contenu le plus grand et généralement le plus important de la page.

*   **Ce que le LCP représente :** La perception de l'expérience de chargement par un utilisateur.
*   **Pondération du score de performance Lighthouse :** 25 %
*   **Ce qu'il mesure :** Le point dans la chronologie de chargement de la page où le plus grand bloc d'image ou de texte de la page est visible dans la fenêtre d'affichage (viewport).
*   **Comment il est mesuré :** Lighthouse extrait les données LCP de l'[outil de traçage de Chrome](https://www.chromium.org/developers/how-tos/trace-event-profiling-tool).
*   **Le Largest Contentful Paint est-il un Core Web Vital ?** Oui

#### Notation LCP

<table style="border:none;border-collapse:collapse;"><colgroup><col width="402"><col width="278"></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><br><div dir="ltr" style="margin-left:0pt;" align="left"><table style="border:none;border-collapse:collapse;"><colgroup><col width="177"><col width="192"></colgroup><tbody><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Temps LCP (secondes)</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0 - 2,5 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">2,5 - 4,0 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:top;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré /&nbsp;</span></p><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Nécessite une amélioration)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:top;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 4,0 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:top;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table></div><br></td><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;text-align: right;margin-top:2pt;margin-bottom:10pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><span style="border:none;display:inline-block;overflow:hidden;width:248px;height:186px;"><img src="https://lh3.googleusercontent.com/Zrn9zJr3HveL4HQ3nEiBosGrgeLyaZ_OBPijlhiDmxeJLa8jYf3eTBP4Cz-NoXliT5AoPtb8laF7msE0flDJ0ZYCZkVMwdYaQs5HduWrFCGoeLdpNwLRhB8-CBMZrTic93AVkwAZ6BLrMeoKFHIULM8" width="290.0184326381219" height="253.1329459836081" style="margin-left:-20.801322065079148px;margin-top:-53.562732940182215px;"></span></span></p></td></tr></tbody></table>

#### Quels éléments font partie du LCP ?

*   Éléments `<img>`
*   Éléments `<image>` à l'intérieur d'un élément `<svg>`
*   Éléments `<video>` (l'image poster est utilisée)
*   Un élément avec une image d'arrière-plan chargée via la fonction `url()` (par opposition à un dégradé CSS)
*   Éléments de niveau bloc contenant des nœuds de texte ou d'autres enfants d'éléments de texte de niveau inline.

#### Comment définir le LCP à l'aide de Chrome DevTools

1.  Ouvrez la page dans Chrome.
2.  Accédez au panneau **Performance** des outils de développement (Commande + Option + I sur Mac ou Contrôle + Maj + I sur Windows et Linux).
3.  Survolez le marqueur LCP dans la section **Timings**.
4.  L'élément ou les éléments correspondant au LCP sont détaillés dans le champ **Related Node**.

#### Qu'est-ce qui cause un mauvais LCP ?

Un mauvais LCP provient généralement de quatre problèmes :

*   Temps de réponse du serveur lents.
*   JavaScript et CSS bloquant le rendu.
*   Temps de chargement des ressources.
*   Rendu côté client.

#### Comment améliorer le LCP

Les suspects habituels d'un mauvais LCP peuvent être causés par de nombreuses choses. Certaines des causes peuvent être des temps de réponse lents du serveur, du JavaScript et CSS bloquant le rendu, des temps de chargement des ressources lents et même le rendu client.

Les temps de réponse lents du serveur sont la première chose à laquelle vous devez vous attaquer lors de l'optimisation des performances. Une réponse plus rapide du serveur aura un impact direct et améliorera chaque mesure de chargement de page, y compris le LCP.

Si la cause est **un temps de réponse lent du serveur** :

*   Optimisez votre serveur.
*   Acheminez les utilisateurs vers un CDN proche.
*   Mettez les ressources en cache.
*   Servez la page HTML en cache d'abord.
*   Établissez les connexions tierces tôt.

Si la cause est **JavaScript et CSS bloquant le rendu** :

*   Minifiez le CSS.
*   Différez le CSS non critique.
*   Intégrez (inline) le CSS critique.
*   Minifiez et compressez les fichiers JavaScript.
*   Différez le JavaScript inutilisé.
*   Minimisez les polyfills inutilisés.

Si la cause est **les temps de chargement des ressources** :

*   Optimisez et compressez les images.
*   Préchargez les ressources importantes.
*   Compressez les fichiers texte.
*   Livrez différents actifs en fonction de la connexion réseau (service adaptatif).
*   Mettez les ressources en cache à l'aide d'un service worker.

Si la cause est **le rendu côté client** :

*   Minimisez le JavaScript critique.
*   Utilisez une autre [stratégie de rendu](https://www.searchenginejournal.com/rendering-seo-introduction/330399/).

### First Input Delay (FID)

Le First Input Delay (FID) mesure l'interactivité d'un site web et se concentre sur les événements d'entrée provenant d'actions discrètes comme les clics, les tapotements et les pressions sur les touches. Lorsqu'un site web ne répond pas dans un certain laps de temps après une interaction de l'utilisateur, les utilisateurs ressentent cela comme un décalage ou un ralentissement. Pour offrir une bonne expérience utilisateur, vos pages web doivent avoir un FID de 100 millisecondes ou moins.

*   **Ce qu'il représente :** La première impression de votre utilisateur sur l'interactivité et la réactivité de votre site.
*   **Pondération du score de performance Lighthouse :** N/A
*   **Ce qu'il mesure :** Mesure le temps écoulé entre le moment où un utilisateur interagit pour la première fois avec votre site (lorsqu'il clique sur un lien, appuie sur un bouton ou utilise un contrôle personnalisé alimenté par JavaScript) et le moment où le navigateur est réellement capable de répondre à cette interaction.
*   **Comment il est mesuré :** Le FID nécessite un utilisateur réel et ne peut donc pas être mesuré en laboratoire. Cependant, la métrique Total Blocking Time (TBT) est mesurable en laboratoire et peut être utilisée comme proxy car elle est bien corrélée avec le FID sur le terrain, et capture également les problèmes qui affectent l'interactivité. Les optimisations qui améliorent le TBT devraient également améliorer le FID sur le terrain.
*   **Le Largest Contentful Paint est-il un Core Web Vital ?** Oui

#### Notation FID

<table style="border:none;border-collapse:collapse;"><colgroup><col width="414"><col width="266"></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><br><div dir="ltr" style="margin-left:0pt;" align="left"><table style="border:none;border-collapse:collapse;"><colgroup><col width="194"><col width="187"></colgroup><tbody><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Temps FID (millisecondes)</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0 - 100 millisecondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">101 - 300 millisecondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:top;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré /&nbsp;</span></p><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Nécessite une amélioration)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 300 millisecondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:top;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table></div><br></td><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;text-align: right;margin-top:2pt;margin-bottom:10pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><span style="border:none;display:inline-block;overflow:hidden;width:245px;height:184px;"><img src="https://lh5.googleusercontent.com/tFvhn1l5YD1M--V4OzvEbuuDeDGAHDyFJfNhz3TYjoJ4HKB_9YKXqPGVI1Gt-PFnHDrXRtn5CzrQ1X7PkcpKIeLO1aJMjyFrVanfSAI8ThY3MrMdfTUP0tWuTAih95OIKkCODlBLOI3QIR67wYYe6-c" width="290.02049489942635" height="252.79750723104704" style="margin-left:-21.80154065106035px;margin-top:-53.40983287785869px;"></span></span></p></td></tr></tbody></table>

#### Qu'est-ce qui cause un mauvais FID ?

La principale cause d'un mauvais FID est une exécution JavaScript lourde. L'optimisation de la façon dont JavaScript analyse, compile et s'exécute sur votre page web réduira directement le FID.

#### Comment améliorer le FID

*   Réduire l'impact de l'exécution de scripts tiers
*   Réduire le temps d'exécution de JavaScript
*   Différer le JavaScript inutilisé
*   Minimiser les polyfills inutilisés
*   Diviser les tâches longues
*   Optimiser votre page pour la disponibilité à l'interaction
*   Utiliser un web worker
*   Minimiser le travail du thread principal
*   Maintenir un faible nombre de requêtes et des tailles de transfert réduites

### Cumulative Layout Shift (CLS)

Le CLS mesure la stabilité visuelle. Une bonne expérience utilisateur est mesurée comme ayant un CLS de 0,1 ou moins. Cela permet d'éviter toute surprise pour l'utilisateur, mais n'est pas particulièrement utile pour la vitesse de la page, c'est plus une mesure indiquant que votre site web suit les meilleures pratiques et est une pièce nécessaire pour obtenir un score de performance élevé pour votre page.

Ces meilleures pratiques incluent le respect des modèles UX courants qui sont optimisés pour le CLS. Lorsque votre page se charge, vous devez toujours vous assurer de définir des attributs de taille ou de réserver de l'espace. Cela aidera à garantir que votre page ne saute pas et ne bouge pas pour le client pendant qu'il essaie d'interagir avec elle.

Votre site web ne doit jamais insérer de contenu au-dessus du contenu existant à moins qu'un utilisateur n'interagisse et ne s'attende à ce comportement, et vous devez toujours utiliser des animations de transformation lors de la transformation de la mise en page pendant ces interactions.

*   **Ce qu'il représente :** La stabilité visuelle d'une page. L'instabilité est définie comme un mouvement inattendu du contenu de la page pendant que l'utilisateur essaie d'interagir avec la page.
*   **Pondération du score de performance Lighthouse :** 15 %
*   **Ce qu'il mesure :** Le CLS mesure la plus grande rafale de scores de décalage de mise en page pour chaque décalage de mise en page inattendu qui se produit pendant toute la durée de vie d'une page. Un décalage de mise en page se produit chaque fois qu'un élément visible change de position d'une image rendue à la suivante.
*   **Comment il est mesuré :** Pour calculer le score de décalage de mise en page, le navigateur examine la taille de la fenêtre d'affichage et le mouvement des éléments instables dans la fenêtre d'affichage entre deux images rendues. Le score de décalage de mise en page est le produit de deux mesures de ce mouvement : la fraction d'impact et la fraction de distance.
*   **Le Cumulative Layout Shift est-il un Core Web Vital ?** Oui

#### Notation CLS

<table style="border:none;border-collapse:collapse;"><colgroup><col width="376"><col width="304"></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><br><div dir="ltr" style="margin-left:0pt;" align="left"><table style="border:none;border-collapse:collapse;"><colgroup><col width="157"><col width="187"><col width="148"></colgroup><tbody><tr style="height:21pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Scores CLS</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:21pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0,1</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:21pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0,1 - 0,25</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré / Nécessite une amélioration)</span></p></td></tr><tr style="height:21pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 0,25</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table></div><br></td><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><br><span style="border:none;display:inline-block;overflow:hidden;width:278px;height:209px;"><img src="https://lh3.googleusercontent.com/8uAS80qGoXOOqddjTCiiCoumNr2Kc5VZgJAoklpLdkV_DNAQFb9lERlOfJp3kY14BG43udgu0N-ftfVAC3QioC0li1fqqJUiTb_ZEVQIZeUfumzbiGT1EMwHT-bF-Za5c1Krgq5kTnaeuzcNnvsUBzU" width="323.0179115551235" height="283.0112877550958" style="margin-left:-21.8012088913365px;margin-top:-58.61156573866772px;"></span></td></tr></tbody></table>

#### Comment voir le CLS à l'aide de Chrome DevTools

Utilisez DevTools pour aider à déboguer les décalages de mise en page en tirant parti du volet **Experience** sous le panneau **Performance**.

La vue **Summary** pour un enregistrement de décalage de mise en page (Layout Shift) comprend le score de Cumulative Layout Shift ainsi qu'une superposition rectangulaire montrant les régions affectées.

![Image](https://lh4.googleusercontent.com/wya-5Stb54NHzdqExb7phNnYkcukIZRGiQxgSTl5oWVNWM31uf-QwOFsRT9MTusyv2tQkAJit8O0m5yApq_NMIVI5PVCbE3U87S8jY4vVe1kcqkM30fCAEPXxjhC68bzQ-FDLheXKPelL7VC4nz83XI)

#### Qu'est-ce qui cause de mauvais décalages de mise en page ?

*   Changements de position d'un élément DOM
*   C'est souvent le résultat de :
    *   Feuilles de style chargées tardivement ou écrasant un style précédemment déclaré.
    *   Retards dans les effets d'animation et de transition.
*   Changements des dimensions d'un élément DOM
*   C'est souvent le résultat de :
    *   Images, publicités, intégrations et iframes sans dimensions
*   Insertion ou suppression d'un élément DOM
*   Animations qui déclenchent la mise en page
*   C'est souvent le résultat de :
    *   Insertion de publicités et d'autres intégrations tierces.
    *   Insertion de bannières, d'alertes et de modales.
    *   Défilement infini et autres modèles UX qui chargent du contenu supplémentaire au-dessus du contenu existant.
*   Actions attendant une réponse réseau avant de mettre à jour le DOM

#### Comment améliorer le CLS

*   Définissez toujours des attributs de taille pour les images et les éléments vidéo, ou allouez la quantité d'espace correcte pour cet élément pendant son chargement.
*   N'insérez jamais de contenu au-dessus du contenu existant, sauf lors d'une interaction utilisateur intentionnelle.
*   Préférez les animations de transformation aux animations de propriétés qui déclenchent des changements de mise en page.
*   Préchargez les polices en utilisant `<link rel=preload>` sur les polices web clés, et combinez `<link rel=preload>` avec `font-display: optional`.

#### Ressources supplémentaires

*   [Cumulative Layout Shift (CLS)](https://web.dev/cls/) - web.dev
*   [Optimize Cumulative Layout Shift](https://web.dev/optimize-cls/) - web.dev
*   [Debug Layout Shifts](https://web.dev/debug-layout-shifts/) - web.dev

## Autres opportunités de performance

### First Contentful Paint (FCP)

Mesure le temps nécessaire pour rendre le premier élément de contenu DOM.

*   **Ce qu'il représente :** Le temps nécessaire au navigateur pour rendre le premier élément de contenu DOM après qu'un utilisateur a navigué vers votre page. Les images, les éléments `<canvas>` non blancs et les SVG sur votre page sont considérés comme du contenu DOM.
*   **Pondération du score de performance Lighthouse :** 10 %
*   **Ce qu'il mesure :** Le FCP est une métrique centrée sur l'utilisateur pour mesurer la vitesse de chargement perçue car elle marque le premier point dans la chronologie de chargement de la page où l'utilisateur peut voir quelque chose à l'écran.
*   **Comment il est mesuré :** Le score FCP est une comparaison du temps FCP de votre page et des temps FCP de sites web réels, basée sur les données de l'archive HTTP.
*   **Le Largest Contentful Paint est-il un Core Web Vital ?** Non

#### Notation FCP

<table style="border:none;border-collapse:collapse;"><colgroup><col width="383"><col width="297"></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><br><div dir="ltr" style="margin-left:0pt;" align="left"><table style="border:none;border-collapse:collapse;"><colgroup><col width="181"><col width="187"><col width="152"></colgroup><tbody><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Temps FCP (secondes)</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0 - 1,8 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">1,8 - 3 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré / Nécessite une amélioration)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 3 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table></div><br></td><td style="vertical-align:top;overflow:hidden;overflow-wrap:break-word;"><br><span style="border:none;display:inline-block;overflow:hidden;width:256px;height:192px;"><img src="https://lh4.googleusercontent.com/cUC3oP-0AqRZCBVMbks4tvNqECBdbQoQdZKud8rnJ69Ix6-7p1TOYgBQ0M_AjjS2v_9Ea5GTRUm2D_QjDSMYbmqEnLjwDigNAyjB1MFV4feXcSY4vqEtOCP70tdOcWJKzKPV4M11-5Bvj-1kBrCJa6s" width="297.98097567695606" height="259.395975804296" style="margin-left:-22.782201405152136px;margin-top:-29.517113448715627px;"></span></td></tr></tbody></table>

#### Comment améliorer le FCP

*   Éliminer les ressources bloquant le rendu
*   Minifier le CSS
*   Supprimer le CSS inutilisé
*   Préconnecter aux origines requises
*   Réduire les temps de réponse du serveur (TTFB)
*   Éviter les redirections de page multiples
*   Précharger les requêtes clés
*   Éviter les charges utiles réseau énormes
*   Servir les actifs statiques avec une politique de cache efficace
*   Éviter une taille de DOM excessive
*   Minimiser la profondeur des requêtes critiques
*   S'assurer que le texte reste visible pendant le chargement des polices web
*   Maintenir un faible nombre de requêtes et des tailles de transfert réduites

#### Ressources supplémentaires

*   [First Contentful Paint (FCP)](https://web.dev/fcp/) - web.dev

### Speed Index (SI)

*   **Ce qu'il représente :** Le temps moyen auquel les parties visibles de la page sont affichées.
*   **Pondération du score de performance Lighthouse :** 10 %
*   **Ce qu'il mesure :** Le Speed Index mesure la rapidité avec laquelle le contenu est affiché visuellement pendant le chargement de la page. Lighthouse capture d'abord une vidéo du chargement de la page dans le navigateur et calcule la progression visuelle entre les images.
*   **Comment il est mesuré :** Le score Speed Index est une comparaison de l'indice de vitesse de votre page et des indices de vitesse de sites web réels, basée sur les données de l'archive HTTP.
*   **Le Largest Contentful Paint est-il un Core Web Vital ?** Non

#### Notation Speed Index

<table style="border:none;border-collapse:collapse;"><colgroup><col width="210"><col width="189"></colgroup><tbody><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Speed Index (secondes)</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0 - 3,4 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">3,4 - 5,8 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré /&nbsp;</span></p><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Nécessite une amélioration)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 5,8 secondes</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table>

#### Comment améliorer le Speed Index

*   Minimiser le travail du thread principal
*   Réduire le temps d'exécution de JavaScript
*   S'assurer que le texte reste visible pendant le chargement des polices web
*   Éliminer les ressources bloquant le rendu

#### Ressources supplémentaires

*   [Speed Index](https://web.dev/speed-index/) - web.dev
*   [WebPagetest Speed Index](https://github.com/WPO-Foundation/webpagetest-docs/blob/main/src/metrics/SpeedIndex.md)

### Total Blocking Time (TBT)

*   **Ce qu'il représente :** Le temps total pendant lequel une page est bloquée et ne peut pas répondre aux entrées de l'utilisateur, telles que les clics de souris, les tapotements sur l'écran ou les pressions sur le clavier.
*   **Pondération du score de performance Lighthouse :** 30 %
*   **Ce qu'il mesure :** Le TBT mesure le temps entre le First Contentful Paint et le Time to Interactive. Le TBT est l'équivalent en laboratoire du First Input Delay (FID) – les données de terrain utilisées dans le rapport d'expérience utilisateur Chrome et le signal de classement Page Experience de Google.
*   **Comment il est mesuré :** Le temps total pendant lequel le thread principal est occupé par des tâches prenant plus de 50 ms à s'exécuter. Si une tâche prend 80 ms à s'exécuter, 30 ms de ce temps seront comptabilisés dans le TBT. Si une tâche prend 45 ms à s'exécuter, 0 ms seront ajoutés au TBT.
*   **Le Total Blocking Time est-il un Core Web Vital ?** Oui ! C'est l'équivalent en données de laboratoire du First Input Delay (FID).

#### Notation TBT

<table style="border:none;border-collapse:collapse;"><colgroup><col width="188"><col width="185"></colgroup><tbody><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Temps TBT (millisecondes)</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0 - 200ms</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">200 - 600ms</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré / Nécessite une amélioration)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 600ms</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table>

#### Tâches longues et Total Blocking Time

Le TBT mesure les tâches longues – celles qui prennent plus de 50 ms.

Lorsqu'un navigateur charge votre site, il y a essentiellement une file d'attente unique de scripts en attente d'exécution.

Toute entrée de l'utilisateur doit aller dans cette même file d'attente.

Lorsque le navigateur ne peut pas répondre à l'entrée de l'utilisateur parce que d'autres tâches sont en cours d'exécution, l'utilisateur perçoit cela comme un décalage.

Essentiellement, les tâches longues sont comme cette personne dans votre café préféré qui met beaucoup trop de temps à commander une boisson.

Comme quelqu'un qui commande un venti 2% quatre pompes de vanille, cinq pompes de moka avec mousse de lait entier, les tâches longues sont une source majeure de mauvaises expériences.

![Tâches courtes vs tâches longues](https://lh3.googleusercontent.com/39Zmo8-vgVxoAhVxCtXmkuwyC9KspUXKGQzDnaEFXzu70HCuuAtabgAS_jka-Qzp3ElAsjRGWUCbBhOnRsqOvTl_cOSxag0Mj12pejXQG_FnjTQqiFuRshiKKzWhlavRrctgGaK9vFrL9ofqusRilpA)

#### Qu'est-ce qui cause un TBT élevé sur votre page ?

*   JavaScript lourd
*   CSS lourd

C'est tout.

#### Comment voir le TBT à l'aide de Chrome DevTools

![A Technical SEO Guide To Lighthouse Performance Metrics](https://lh3.googleusercontent.com/bq3y2cnbChfVik2dXdKO01UTU6oQMMHUtogHcHjkv0N7R6qyBKe5aZr-BbIVuEnRw-JoVwrGQ5lRtVz6G4st6u8p7YalWEdgVGxDrJAXGl28SDbcMZkLiA9Ho5HIWcMo96w7NnscuvfzzX7BGPfB8YI)

#### Comment améliorer le TBT

*   Divisez les tâches longues.
*   Optimisez votre page pour la disponibilité à l'interaction.
*   Utilisez un web worker.
*   Réduisez le temps d'exécution de JavaScript.

#### Ressources supplémentaires

*   [First Input Delay (FID)](https://web.dev/fid/) - web.dev
*   [Total Blocking Time (TBT)](https://web.dev/tbt/) - web.dev
*   [Optimize First Input Delay](https://web.dev/optimize-fid/) - web.dev
*   [Lighthouse: Total Blocking Time](https://web.dev/lighthouse-total-blocking-time/) - web.dev

### Time to First Byte (TTFB)

Le Time to First Byte (TTFB) est une métrique fondamentale pour mesurer le temps entre la demande d'une ressource et le moment où le premier octet d'une réponse commence à arriver. Il aide à identifier quand un serveur web est trop lent à répondre aux demandes.

Le TTFB est la somme des phases de requête suivantes :

*   Temps de redirection
*   Temps de démarrage du service worker (le cas échéant)
*   Recherche DNS
*   Connexion et négociation TLS
*   Requête, jusqu'au point où le premier octet de la réponse est arrivé

#### Notation TTFB

<table style="border:none;border-collapse:collapse;"><colgroup><col width="184"><col width="192"></colgroup><tbody><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Temps TTFB (millisecondes)</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#1155cc;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#ffffff;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Code couleur du score</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">0 - 800ms</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Vert (Rapide / Bon)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">800 - 1 800ms</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Orange (Modéré / </span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Nécessite une amélioration)</span></p></td></tr><tr style="height:0pt"><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Plus de 1 800ms</span></p></td><td style="border-left:solid #f3f3f3 1pt;border-right:solid #f3f3f3 1pt;border-bottom:solid #f3f3f3 1pt;border-top:solid #f3f3f3 1pt;vertical-align:middle;background-color:#c9daf8;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;text-align: center;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Rouge (Lent / Mauvais)</span></p></td></tr></tbody></table>

#### Comment améliorer le TTFB

*   Services d'hébergement avec une infrastructure inadéquate pour gérer des charges de trafic élevées
*   Serveurs web avec une mémoire insuffisante pouvant entraîner un "thrashing" (emballement de la mémoire virtuelle)
*   Tables de base de données non optimisées
*   Configuration sous-optimale du serveur de base de données
*   Éviter les redirections de page multiples
*   Préconnecter aux origines requises pour les ressources cross-origin
*   Soumettre votre origine à la liste de préchargement HSTS pour éliminer la latence de redirection HTTP vers HTTPS
*   Utiliser HTTP/2 ou HTTP/3
*   Utiliser la génération côté serveur (SSG) pour le balisage au lieu du SSR lorsque cela est possible et approprié

Minimiser le TTFB commence par le choix d'un fournisseur d'hébergement approprié avec une infrastructure garantissant une disponibilité et une réactivité élevées. Ceci, combiné à un CDN, peut aider de manière significative.

# Comprendre une requête de site web

Dans cette section, nous verrons comment la vitesse d'une requête vers un site web impacte la performance globale du site.

Lorsqu'un utilisateur effectue une requête pour charger un site web, une série de processus se déroulent en coulisses pour livrer le contenu demandé au navigateur de l'utilisateur. Le processus peut être décomposé en les étapes suivantes :

1.  Recherche DNS : Le système de noms de domaine (DNS) est une base de données distribuée qui mappe les noms de domaine aux adresses IP. Lorsqu'un utilisateur tape une URL dans son navigateur, le navigateur envoie d'abord une requête à un serveur DNS pour rechercher l'adresse IP du nom de domaine.

![Image](https://lh6.googleusercontent.com/J17zWmjYv-1IbpwhezADAW1QDSpul1SHbJgCnLRP6z8MqzD8FHZsMIowumwFd7PM7la1mGjir1ZBvh2eETXCXvNoiTIEeztVRAgENi0plBq6dV8KN67YatEzyvG_sFCCjIWzKaqTHxKmgPxuxGzYxL8)

1.  Connexion : Une fois que le navigateur a l'adresse IP du site web, il établit une connexion au serveur hébergeant le site web en utilisant le protocole de transfert hypertexte (HTTP) ou le protocole HTTPS plus sécurisé.
2.  Requête : Après avoir établi la connexion, le navigateur envoie une requête HTTP au serveur demandant la page web ou la ressource spécifique que l'utilisateur souhaite consulter.

![Image](https://lh4.googleusercontent.com/VJPrjrVfJXvw8jzXvup91y4sHRq3uMGJNxUyAtsFpdLM8bjZJow-EIRk8nHKx1e-iEHLLquM52oO-lw8iaBVKBBitIVECRv8NWjRqtfcLCbkX00Agbg7w82TCZM-E4hzkcclEjFtbKHpY3sLCYzhm0M)

1.  Traitement : Le serveur reçoit la requête et commence à la traiter. Cela peut impliquer l'exécution de scripts, l'interrogation de bases de données et la récupération de fichiers à partir du système de fichiers.
2.  Réponse : Une fois que le serveur a traité la requête, il renvoie une réponse HTTP au navigateur. Cette réponse inclut le contenu demandé, tel que le HTML, le CSS, le JavaScript et toutes les images ou autres ressources nécessaires pour afficher la page web.
3.  Rendu : Le navigateur reçoit la réponse du serveur et commence à rendre la page web. Cela implique l'analyse du HTML et le rendu de la mise en page, le style de la page avec CSS, l'exécution de JavaScript et le chargement de toutes les images ou autres ressources nécessaires pour afficher la page.
4.  Interaction utilisateur : Enfin, l'utilisateur peut interagir avec la page web, cliquer sur des liens, remplir des formulaires et effectuer d'autres actions.

Ces étapes se produisent très rapidement, souvent en quelques millisecondes, mais tout retard ou goulot d'étranglement dans l'une de ces étapes peut entraîner un chargement lent de la page ou pas de chargement du tout, conduisant à une mauvaise expérience utilisateur. Pour optimiser les performances du site web, il est important d'identifier et de résoudre tout problème de performance à chaque étape de ce processus.

![Image](https://lh4.googleusercontent.com/SuNvaLxNYi2YgK8v-n2Cpu6x9pdmEtP0Sha4EezZ63RM-hLLoM8felyEutg96VKJxdrZIpqFXidNK4zO-MAjEIoRTliZpdDOaNMRBimFpSk2LY_CNIDn1Vg5vyOEFlaOWmSmkm9nDjTQ_Il1_WMFTPU)

## Configuration et réglage du serveur pour WordPress

Ces conseils expliquent quelles mesures peuvent être prises avec Redis, MySQL, Opcache et d'autres technologies pour obtenir un serveur haute performance. Il existe de nombreuses opportunités pour améliorer les performances. Nous nous concentrons sur le stockage rapide et mettons l'accent sur le réglage du cache. L'accès aux fichiers à partir du stockage NVMe, le stockage des scripts PHP dans Opcache et la compression des réponses avec Brotli font tous partie d'un serveur haute performance. Lisez la suite pour savoir comment analyser les performances de votre serveur et apporter des améliorations progressives.

## Installer et configurer Redis

Des services comme Redis et Memcached peuvent améliorer considérablement les performances de WordPress en mettant en cache les données en mémoire et en réduisant le nombre d'appels à la base de données nécessaires pour servir le contenu. Ils agissent comme des magasins clé-valeur qui conservent temporairement les données fréquemment consultées ou coûteuses en calcul, ce qui entraîne des temps de réponse plus rapides et une charge serveur réduite. WordPress peut être configuré pour utiliser Redis comme magasin d'objets en utilisant des plugins spécifiques, tels que Redis Object Cache ou W3 Total Cache.

Une fois Redis installé et configuré, vous pouvez vérifier les éléments suivants pour vous assurer que Redis est optimisé et fonctionne à sa pleine capacité.

### Utilisation de la mémoire

Vérifiez l'utilisation de la mémoire Redis avec la commande suivante (certaines sorties ont été omises) :

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[root@localhost ~]</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># redis-cli info memory</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">used_memory:12654264</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">used_memory_rss:18878464</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">used_memory_peak:66619048</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">total_system_memory:19327352832</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">used_memory_lua:37888</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">maxmemory:67108864</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">maxmemory_policy:allkeys-lru</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">mem_fragmentation_ratio:1.49</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">mem_allocator:jemalloc-3.6.0</span></p></td></tr></tbody></table>

Lorsque `used_memory_peak` est proche de `maxmemory`, Redis peut ne pas avoir assez de ressources pour fonctionner à sa pleine capacité. De plus, Redis peut expulser activement des clés du cache pour faire de la place aux nouvelles. Ce n'est pas idéal, et l'éviction de clés doit être évitée si possible. Augmentez la variable `maxmemory` dans votre configuration Redis pour résoudre ce problème.

### Éviction de clés

L'éviction de clés est le processus de suppression des données anciennes et inutilisées du cache pour faire de la place aux nouvelles données. Cela peut être particulièrement problématique pour les sites web à fort trafic qui dépendent de la mise en cache Redis pour améliorer les performances. Si vos ressources système le permettent et que le nombre de `evicted_keys` est élevé, il est à nouveau recommandé d'augmenter `maxmemory`. La commande suivante fournira des informations sur le nombre de clés et combien ont été expulsées.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># redis-cli info stats | grep evicted_keys</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">evicted_keys:5463</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># redis-cli info keyspace</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">db0:keys=773,expires=738,avg_ttl=137198</span></p></td></tr></tbody></table>

En examinant ces aspects et en effectuant les ajustements appropriés, vous pouvez optimiser Redis pour améliorer considérablement les performances de votre site WordPress.

## Optimiser la base de données

Si la mise en cache d'objets comme Redis n'est pas disponible pour le site WordPress, les requêtes de contenu de base de données vont directement à la base de données. Tout d'abord, la base de données vérifie son cache pour servir le résultat directement, si possible, et le stocke pour une utilisation future. Si la mise en cache n'est pas disponible ou non autorisée, la requête passe à la base de données. La base de données combine les informations mises en cache et non mises en cache, demandant des données au système d'exploitation. La vitesse de récupération des données dépend de la RAM disponible et du type de stockage, le NVMe étant le plus rapide et le HDD le plus lent. Les requêtes simples renvoient les données immédiatement à l'appel PHP, tandis que les requêtes complexes nécessitant des tables temporaires demandent plus de temps de traitement et peuvent ralentir le site web ou causer des problèmes de serveur en cas de trafic élevé.

Plusieurs techniques de réglage peuvent améliorer les performances.

### Définir la taille du pool de mémoire tampon (buffer pool)

Le pool de mémoire tampon est la zone de mémoire que MariaDB utilise pour mettre en cache les données et les index. Il est important de configurer la taille du pool de mémoire tampon de manière appropriée en fonction de la quantité de mémoire disponible et de la taille de la base de données. Une bonne règle de base est de définir la taille du pool de mémoire tampon à environ 40 % de la mémoire disponible, mais gardez à l'esprit que ce pourcentage est généralement applicable uniquement sur des serveurs de base de données autonomes. La taille du pool de mémoire tampon peut être contrôlée à l'aide de la variable `innodb_buffer_pool_size`. Voir [https://mariadb.com/kb/en/innodb-buffer-pool/](https://mariadb.com/kb/en/innodb-buffer-pool/) pour plus d'informations.

Une façon d'analyser les performances du pool de mémoire tampon est d'observer la variable d'état `innodb_buffer_pool_wait_free`. Si elle augmente, alors vous n'avez pas assez de pool de mémoire tampon (ou votre vidage ne se produit pas assez fréquemment). Dans ce cas, vous devez définir la variable `innodb_buffer_pool_size` plus haut si vos ressources système le permettent.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">SHOW STATUS LIKE </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"Innodb_buffer_pool_wait_free"</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">;</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+------------------------------+-------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Variable_name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Value |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+------------------------------+-------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Innodb_buffer_pool_wait_free | 5464&nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+------------------------------+-------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">1 row </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">in</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffaa;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">set</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> (0.001 sec)</span></p></td></tr></tbody></table>

### Activer le cache de requêtes (query cache)

Le cache de requêtes est une fonctionnalité qui stocke les résultats des requêtes fréquemment exécutées en mémoire, ce qui peut améliorer considérablement les performances des requêtes. Il est recommandé d'activer le cache de requêtes, mais il est important de noter qu'il peut ne pas être efficace pour toutes les charges de travail. Le cache de requêtes peut être activé ou désactivé à l'aide de la variable `query_cache_type`. Voir [https://mariadb.com/kb/en/query-cache/](https://mariadb.com/kb/en/query-cache/) pour plus d'informations.

Le serveur SQL stocke des statistiques sur le cache de requêtes.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">SHOW STATUS LIKE </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'Qcache%'</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">;</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------------------+----------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Variable_name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Value&nbsp; &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------------------+----------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_free_blocks&nbsp; &nbsp; &nbsp; | 1158 &nbsp; &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_free_memory&nbsp; &nbsp; &nbsp; | 3760784&nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_hits &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 31943398 |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_inserts&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 42998029 |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_lowmem_prunes&nbsp; &nbsp; | 34695322 |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_not_cached &nbsp; &nbsp; &nbsp; | 652482 &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_queries_in_cache | 4628 &nbsp; &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Qcache_total_blocks &nbsp; &nbsp; | 11123&nbsp; &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------------------+----------+</span></p></td></tr></tbody></table>

`Qcache_inserts` contient le nombre de requêtes ajoutées au cache de requêtes, `Qcache_hits` contient le nombre de requêtes qui ont utilisé le cache de requêtes, tandis que `Qcache_lowmem_prunes` contient le nombre de requêtes qui ont été supprimées du cache en raison d'un manque de mémoire.

L'exemple ci-dessus pourrait indiquer un cache peu performant. Plus de requêtes ont été ajoutées, et plus de requêtes ont été supprimées, qu'elles n'ont été réellement utilisées.

**Définir les limites de taille des tables en mémoire :** Comme mentionné précédemment, les requêtes complexes amèneront le serveur SQL à créer des tables temporaires. Le serveur SQL tentera de créer des tables en mémoire jusqu'à une certaine taille pour des raisons de performance. Il est important de définir la taille maximale à une valeur appropriée pour éviter de créer des tables temporaires sur le disque. Les variables qui contrôlent ce comportement sont `tmp_table_size` et `max_heap_table_size`. Vous pouvez comparer le nombre de tables temporaires internes sur disque créées au nombre total de tables temporaires internes créées en comparant les valeurs `Created_tmp_disk_tables` et `Created_tmp_tables`. Voir [server-system-variables/#tmp_table_size](https://mariadb.com/kb/en/server-system-variables/#tmp_table_size) et [server-system-variables/#max_heap_table_size](https://mariadb.com/kb/en/server-system-variables/#max_heap_table_size) pour plus d'informations.

Vous pouvez voir s'il est nécessaire d'augmenter en comparant les variables d'état `Created_tmp_disk_tables` et `Created_tmp_tables` pour voir combien de tables temporaires sur le total créé ont dû être converties sur le disque.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">MariaDB [(none)]&gt; SHOW STATUS LIKE </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"Created_tmp%"</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">;</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------------------+-------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Variable_name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Value |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------------------+-------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Created_tmp_disk_tables | 0 &nbsp; &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Created_tmp_files &nbsp; &nbsp; &nbsp; | 373 &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| Created_tmp_tables&nbsp; &nbsp; &nbsp; | 1 &nbsp; &nbsp; |</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------------------+-------+</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">3 rows </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">in</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffaa;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">set</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> (0.000 sec)</span></p></td></tr></tbody></table>

Dans l'exemple ci-dessus, le serveur SQL n'a pas à créer de tables temporaires sur le disque. Ceci est considéré comme optimal.

### Nettoyer la base de données WordPress

Sans intervention, WordPress stockera des données inutiles/inutilisées dans la base de données. Au fil du temps, cela peut s'accumuler, provoquant un gonflement de la base de données et de graves retards de performance. Cela inclut des éléments tels que :

*   Révisions de publications
*   Brouillons enregistrés automatiquement
*   Publications mises à la corbeille
*   Commentaires mis à la corbeille
*   Spam de commentaires
*   Tables pour les plugins et thèmes qui ne sont plus actifs ou installés
*   Enregistrements transitoires (transients)

Dans votre fichier `wp-config.php`, ajoutez ou modifiez le paramètre suivant pour limiter le nombre de révisions de publications enregistrées dans la base de données.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">define(</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'WP_POST_REVISIONS'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#d36363;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">15</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">);</span></p></td></tr></tbody></table>

De nombreuses ressources existent sur Internet pour traiter ces éléments.

### Surveiller les performances

Il est important de surveiller régulièrement les performances de MariaDB et d'ajuster les configurations si nécessaire. Cela inclut la surveillance de l'utilisation du processeur, de l'utilisation de la mémoire, des E/S disque et des performances des requêtes. Utilisez un outil comme `mysqltuner` pour obtenir des informations sur les performances de l'installation SQL, ou activez la journalisation des requêtes lentes (Slowquery logging) pour identifier les requêtes de longue durée.

## Examiner les taux de réussite et les statistiques d'Opcache

Opcache offre des avantages significatifs lorsqu'il est utilisé avec PHP-FPM. Lorsqu'un fichier PHP a été précédemment demandé et qu'il y a suffisamment d'opcache disponible, le script est déjà stocké en mémoire. Cela permet une exécution plus rapide car il est prêt à accepter des entrées de données sans avoir à recharger le fichier depuis le disque. Il est important de maximiser les Hits Opcache et de minimiser les échecs (misses).

PHP fournit plusieurs fonctions intégrées pour obtenir des informations sur l'état et la configuration d'OPcache comme `opcache_get_status()` et `opcache_get_configuration()`. De plus, il existe plusieurs outils de surveillance basés sur le web pour visualiser l'utilisation et les performances d'OPcache. Certaines options populaires incluent :

*   **OPcache GUI** ([https://github.com/amnuts/opcache-gui](https://github.com/amnuts/opcache-gui)) : Un script PHP à fichier unique qui fournit une interface simple et propre pour surveiller l'utilisation et les performances d'OPcache.
*   **OCP** ([https://github.com/ck-on/ocp](https://github.com/ck-on/ocp)) : Un panneau de contrôle OPcache basé sur le web qui vous permet de surveiller et de gérer les paramètres OPcache en temps réel.
*   **OPcache Status** ([https://github.com/rlerdorf/opcache-status](https://github.com/rlerdorf/opcache-status)) : Une page d'état opcache d'une seule page pour le cache d'opcode PHP 5.5.
*   **CacheTool** ([https://github.com/gordalina/cachetool](https://github.com/gordalina/cachetool)) : CacheTool vous permet de travailler avec APCu, OPcache et le cache d'état des fichiers via la CLI. Il se connectera à un serveur FastCGI (comme PHP-FPM) et opérera sur son cache.

Pour utiliser ces outils, téléchargez-les et installez-les sur votre serveur web, en suivant les instructions fournies dans leurs dépôts respectifs. Gardez à l'esprit que certaines des informations affichées par ces outils peuvent révéler des informations sur les fichiers du serveur web ou d'autres informations sensibles sur le site web. Il est préférable de sécuriser ces interfaces par IP ou une autre forme d'authentification.

Lors de l'examen des statistiques Opcache, il y a quelques éléments clés à rechercher et à évaluer.

### Taux de réussite Opcache (Hit Rate)

Le taux de réussite est le pourcentage de requêtes qui sont servies en utilisant l'opcode mis en cache au lieu d'analyser et de compiler les scripts à nouveau.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[opcache_hit_rate] =&gt; 90.64060820636</span></p></td></tr></tbody></table>

Le taux de réussite ci-dessus suggère qu'opcache nécessite plus de mémoire ou de ressources pour fonctionner à sa pleine capacité. Un taux de réussite élevé proche de 100 indique que le cache fonctionne efficacement et offre les avantages de performance souhaités. La surveillance du taux de réussite peut aider à identifier si des ajustements aux paramètres OPCache sont nécessaires pour améliorer son efficacité. La section suivante explique comment ajuster l'allocation de mémoire pour opcache.

### Consommation de mémoire

L'analyse de l'utilisation de la mémoire implique de vérifier la quantité de mémoire allouée à l'OPCache et la quantité utilisée.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[cache_full] =&gt; 1</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[used_memory] =&gt; 134217720</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[free_memory] =&gt; 8</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[wasted_memory] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[current_wasted_percentage] =&gt; 0</span></p></td></tr></tbody></table>

Dans la sortie ci-dessus, l'administrateur voudrait envisager d'augmenter `opcache.memory_consumption` à une valeur supérieure à 128 Mo car le booléen "cache_full" est vrai et `free_memory` est à 8 octets. Ces informations aident à déterminer s'il est nécessaire d'augmenter ou de diminuer l'allocation de mémoire, en fonction de la taille et de la complexité de vos scripts PHP. Assurer une allocation de mémoire appropriée aide à prévenir les évictions de cache et favorise une utilisation plus efficace des ressources du serveur.

`num_cached_keys` et `max_cached_keys` sont des métriques qui donnent un aperçu du nombre de clés mises en cache (scripts PHP compilés) actuellement stockées dans l'OPCache (`num_cached_keys`) et du nombre maximum de clés mises en cache autorisées (`max_cached_keys`).

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[num_cached_scripts] =&gt; 4371</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[num_cached_keys] =&gt; 5597</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[max_cached_keys] =&gt; 65407</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[hits] =&gt; 114693</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[start_time] =&gt; 1683575017</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[last_restart_time] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[oom_restarts] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[hash_restarts] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[manual_restarts] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[misses] =&gt; 11843</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[blacklist_misses] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[blacklist_miss_ratio] =&gt; 0</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[opcache_hit_rate] =&gt; 90.64060820636</span></p></td></tr></tbody></table>

En comparant ces valeurs, vous pouvez identifier si le cache approche de sa capacité ou si des ajustements sont nécessaires pour optimiser la taille du cache. Si `num_cached_keys` approche fréquemment `max_cached_keys`, il peut être bénéfique d'augmenter la valeur `opcache.max_accelerated_files` pour accueillir plus de scripts, réduisant ainsi les évictions de cache et améliorant encore les performances.

L'examen régulier de ces éléments clés peut vous aider à optimiser la configuration d'OPcache, ce qui conduit à une amélioration des performances du site web et à une réduction de l'utilisation des ressources du serveur.

## Utiliser le stockage NVMe

Comme mentionné précédemment dans la section sur l'optimisation de la base de données, le stockage NVMe aide à la performance du serveur de base de données en fournissant un accès aux données beaucoup plus rapide et une latence réduite par rapport aux solutions de stockage traditionnelles. Cela se traduit par des temps de réponse plus rapides et un traitement des requêtes plus efficace, conduisant à une amélioration globale des performances du serveur.

Le stockage NVMe améliore les performances du serveur pour les sites web WordPress de plusieurs manières :

**Temps de chargement des pages plus rapides**

Grâce à son transfert de données à grande vitesse et à sa faible latence, le stockage NVMe permet un accès plus rapide aux fichiers et aux actifs du site web, tels que les images, les feuilles de style et les scripts. Cela conduit à des temps de chargement de page plus rapides et à une meilleure expérience utilisateur.

**Amélioration des performances de la base de données**

Les avantages de l'utilisation du stockage NVMe lors du traitement des requêtes de base de données peuvent être décrits comme suit :

1.  Lors du traitement des requêtes, la base de données s'appuie à la fois sur les données MySQL mises en cache et non mises en cache, nécessitant une interaction avec le système d'exploitation pour récupérer les informations nécessaires.
2.  Si le système d'exploitation dispose d'une RAM suffisante, les fichiers nécessaires à une requête peuvent déjà être stockés dans la RAM plutôt que d'être uniquement disponibles sur un périphérique de stockage persistant.
3.  Dans les cas où les données doivent être consultées à partir d'un périphérique de stockage, un lecteur NVMe offre une récupération de données beaucoup plus rapide par rapport à un SSD SATA, tandis que les disques durs traditionnels (HDD) sont beaucoup plus lents et généralement plus utilisés dans de tels scénarios.

Dans l'ensemble, l'utilisation du stockage NVMe améliore considérablement les performances des requêtes de base de données grâce à ses capacités d'accès rapide aux données.

## Activer la compression Brotli et Gzip

La compression des réponses du serveur web avec Brotli ou Gzip peut améliorer considérablement les performances du site web en réduisant la quantité de données transférées sur le réseau. Cela fournit une dernière étape d'optimisation sur la réponse renvoyée par le serveur d'origine. En moyenne, la compression Gzip peut réduire la taille du contenu web de 60 à 70 %, tandis que Brotli a tendance à offrir des taux de compression encore meilleurs, réduisant souvent la taille du contenu de 70 à 80 %.

L'activation de la compression Brotli dans NGINX s'effectue via l'utilisation du [module brotli nginx](https://github.com/google/ngx_brotli). Le module peut être compilé et installé avec NGINX et chargé dynamiquement.

### Analyser une réponse du serveur pour la compression

Pour déterminer si une réponse à une requête a été compressée avec la compression Brotli ou Gzip, vous pouvez utiliser les outils de développement Chrome ou Firefox pour examiner l'en-tête Content-Encoding – suivez ces étapes :

1.  Ouvrez les outils de développement dans votre navigateur :
    *   Dans Chrome, appuyez sur Ctrl + Maj + I (Windows/Linux) ou Cmd + Opt + I (Mac).
    *   Dans Firefox, appuyez sur Ctrl + Maj + I (Windows/Linux) ou Cmd + Opt + I (Mac).
    *   Ou faites un clic droit sur la page web et sélectionnez **Inspecter**.
2.  Cliquez sur l'onglet "**Réseau**" (Network) dans les outils de développement.
3.  Actualisez la page web ou lancez l'action que vous souhaitez analyser. Cela remplira le panneau réseau avec une liste de requêtes effectuées par le navigateur.
4.  Trouvez la requête qui vous intéresse, comme la requête de document principal ou une ressource spécifique comme un fichier CSS ou JavaScript. Cliquez sur la requête pour ouvrir la vue détaillée.
5.  Dans la vue détaillée, recherchez l'onglet **En-têtes** (Headers) (cela devrait être l'onglet par défaut dans les deux navigateurs). Faites défiler jusqu'à la section **En-têtes de réponse** (Response Headers).
6.  Vérifiez la valeur de l'en-tête **Content-Encoding**. Si la réponse est compressée avec Gzip, elle affichera `gzip`, et si elle est compressée avec Brotli, elle affichera `br`. Si l'en-tête est absent ou a une valeur différente, la réponse n'est pas compressée à l'aide de l'un de ces algorithmes.

![Image](https://lh5.googleusercontent.com/wuxtQhiksUozSaQ2u0SpDTsW27wj1w2sFZfFmABhsJL1buQVsY81FbyYbwWbvsnfMFAqANpEKfhBwfEw8NlL2-Oq9muspGvqbdqijL0GGEOutqAw7wvCrLxqJPKCIR_n6eadSreKbfEsxiXx5_5XfpM)

En examinant l'en-tête **Content-Encoding** dans les outils de développement, vous pouvez rapidement déterminer si une réponse à une requête a été compressée avec Brotli ou Gzip.

## Mise en cache proxy NGINX

Servir les requêtes à partir du cache Nginx peut entraîner des améliorations significatives des performances, car cela élimine le besoin pour la requête de traverser toute la pile et d'accéder aux services backend. Cela peut conduire à des temps de traitement réduits et à des temps de réponse améliorés, résultant en une meilleure expérience utilisateur.

Selon les benchmarks, servir les requêtes à partir du cache Nginx peut entraîner une réduction de 90 % des temps de réponse par rapport aux requêtes qui traversent toute la pile. Cela est dû à la capacité du mécanisme de mise en cache à servir les requêtes directement depuis la mémoire ou le disque, réduisant le temps nécessaire pour traiter la requête.

De plus, servir les requêtes à partir du cache Nginx peut réduire considérablement la charge du serveur et améliorer l'évolutivité. En réduisant le nombre de requêtes qui doivent être traitées par des services backend comme PHP-FPM ou MySQL, le serveur peut gérer plus de requêtes simultanément, ce qui conduit à des performances améliorées et à des temps de réponse plus rapides. Ceci est essentiel pour un site web à fort trafic.

Notre configuration UltraStack NGINX ajoute un en-tête HTTP `X-Proxy-Cache` aux réponses et le statut du cache en amont (Upstream Cache Status) aux entrées du journal d'accès nginx. Les trois techniques suivantes expliquent comment identifier si la page reçue est une version mise en cache servie par Nginx :

1.  **Utilisation de cURL :** faites une simple requête GET à l'URL en question, et utilisez grep pour vérifier l'en-tête `X-Proxy-Cache`.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#fc9b9b;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">$</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> curl -is https://gonintesto.com/ | grep X-Proxy-Cache</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">X-Proxy-Cache: HIT</span></p></td></tr></tbody></table>

1.  **Utilisation de Chrome DevTools :** Les en-têtes peuvent également être facilement inspectés à l'aide de Chrome DevTools. Utilisez F12 ou Ctrl+Maj+I pour faire apparaître la fenêtre DevTools, puis cliquez sur l'onglet Réseau. Cochez la case "Désactiver le cache" (Disable cache), ce qui contournera le cache interne de Chrome, puis rechargez la page pour capturer toutes les informations réseau (ne pas désactiver le cache de Chrome vous permettra de voir les réponses 304 Not Modified pour les actifs statiques, ce qui montre comment fonctionne le cache côté client).

<table style="border:none;border-collapse:collapse;"><colgroup><col width="375"><col width="375"></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><span style="border:none;display:inline-block;overflow:hidden;width:473px;height:319px;"><img src="https://lh6.googleusercontent.com/JkElkgcW7VIQ0_LGNhK6JUyI5CVV1445HVSjRSBW6eGmXp_2a2I1k1Fvvb6tjpnqDHaT-noPpyQYVDdjpyk03v_F0TpDHe5nTZXqp80IL6iIpV-YhQC7_qJX9qYnJqjx9Enu-4rt1-Uvnd-ooVP0NzQ" width="473" height="319" style="margin-left:0px;margin-top:0px;"></span></span></p></td><td style="vertical-align:top;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:17pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Voici les valeurs possibles pour </span><a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#var_upstream_cache_status" style="text-decoration:none;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">$upstream_cache_status</span></a><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">:</span></p><ul style="margin-top:0;margin-bottom:0;padding-inline-start:48px;"><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">MISS – La réponse n'a pas été trouvée dans le cache et a donc été récupérée depuis un serveur d'origine. La réponse a peut-être ensuite été mise en cache.</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">BYPASS – La réponse a été récupérée depuis le serveur d'origine au lieu d'être servie depuis le cache car la requête correspondait à une directive proxy_cache_bypass.</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">EXPIRED – L'entrée dans le cache a expiré. La réponse contient du contenu frais provenant du serveur d'origine.</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">STALE – Le contenu est périmé car le serveur d'origine ne répond pas correctement, et proxy_cache_use_stale a été configuré.</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">UPDATING – Le contenu est périmé car l'entrée est en cours de mise à jour en réponse à une requête précédente, et proxy_cache_use_stale updating est configuré.</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">REVALIDATED – La directive </span><a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache_revalidate" style="text-decoration:none;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">proxy_cache_revalidate</span></a><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> a été activée et NGINX a vérifié que le contenu mis en cache actuel était toujours valide (If-Modified-Since ou If-None-Match).</span></p></li><li dir="ltr" style="list-style-type:disc;font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;" aria-level="1"><p dir="ltr" style="line-height:1.2;background-color:#ffffff;margin-top:0pt;margin-bottom:0pt;" role="presentation"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#1a1a1a;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">HIT – La réponse contient un contenu valide et frais provenant directement du cache.</span></p></li></ul></td></tr></tbody></table>

1.  **Utilisation du journal d'accès NGINX** : Connectez-vous au serveur via SSH et lisez le journal d'accès avec un `tail` ou `cat`.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">[root@vps87640 ~]</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># tail -f /var/log/nginx/access.log</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">173.231.218.25 - - [16/Mar/2023:21:50:43 -0400] </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"GET / HTTP/2.0"</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> 200 8205 </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"-"</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36"</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> [rt=0.000] [proto=HTTP/2.0:h2] [args=-] [ucs=HIT] [xpc=HIT] [uct=-] [gz=-] [tls=TLSv1.3] [cipher=TLS_AES_256_GCM_SHA384] [scheme=https] gonintesto.com gonintesto.com vps87640.inmotionhosting.com 1638</span></p></td></tr></tbody></table>

La valeur attribuée à `ucs=` (HIT dans l'exemple ci-dessus) ou le "Upstream Cache Status" sera l'un des statuts de cache ci-dessus.

À l'aide des outils de gestion de serveur de Central, voici comment vous activeriez le cache proxy NGINX sur votre site :

![Image](https://lh3.googleusercontent.com/BRe1P9qntdKojYtwRvwzvbsHsma-m0nX4mVIJA8Fv6w4M3uNRLRcaXurVhtKdRypVjazhArw9T33rmvVki-FtXDjVeDWdmwBkt1sCQn6512DOJgyT0TofTo_cVHgmvo99IUpsVlhJ_pEvFdfUe7yXyk)

Avec le cache proxy NGINX configuré, vous pouvez utiliser nos [Utilitaires Ultrastack](https://www.inmotionhosting.com/support/product-guides/wordpress-hosting/central/servers/ultrastack-utilities/) pour déterminer les taux de HIT du cache pour toutes les requêtes vers NGINX.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">CT-92204 /</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># usutil </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">INFO: Parsing </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffaa;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">log</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'/var/log/nginx/access.log'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> (15.4 MiB)...</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">CACHE STATUS</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+----------------+--------------+-----------------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| HIT (Dynamic)&nbsp; | HIT (Static) | DISABLED+BYPASS |</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+----------------+--------------+-----------------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| 146323 (51.8%) | &nbsp; 0 (0.0%) &nbsp; | &nbsp; 4096 (1.4%) &nbsp; |</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+----------------+--------------+-----------------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+----------------+----------------+-------------+-------------+----------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">|&nbsp; &nbsp; &nbsp; HIT &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; MISS&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; BYPASS &nbsp; | &nbsp; EXPIRED &nbsp; | UPDATING |</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+----------------+----------------+-------------+-------------+----------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| 146323 (51.0%) | 110858 (38.7%) | 4096 (1.4%) | 3095 (1.1%) | 9 (0.0%) |</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+----------------+----------------+-------------+-------------+----------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------+-------------+----------+-----------------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| STATIC/TYPE | STATIC/PATH | DISABLED |&nbsp; &nbsp; &nbsp; TOTAL&nbsp; &nbsp; &nbsp; |</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------+-------------+----------+-----------------+</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">| &nbsp; 0 (0.0%)&nbsp; | &nbsp; 0 (0.0%)&nbsp; | 0 (0.0%) | 286663 (100.0%) |</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">+-------------+-------------+----------+-----------------+</span></p></td></tr></tbody></table>

Bien qu'il s'agisse d'un outil spécifique à InMotion Hosting, les informations peuvent être récupérées à l'aide du module NGINX tiers, [nginx-module-vts](https://github.com/vozlt/nginx-module-vts).

En résumé, l'utilisation du cache proxy NGINX aidera à stimuler les performances pour les sites web à fort trafic.

## Utiliser TLSv1.3 et HTTP/2

TLS (Transport Layer Security) est un protocole cryptographique qui fournit une communication sécurisée entre les clients web et les serveurs. TLS 1.3 est la dernière version du protocole TLS et est conçu pour fournir une communication plus rapide et plus sécurisée par rapport aux versions précédentes.

TLS 1.3 introduit également plusieurs nouvelles fonctionnalités qui améliorent les performances du site web, telles que les poignées de main 0-RTT (Zero Round Trip Time), qui permettent aux visiteurs récurrents d'établir une connexion sécurisée plus rapidement. De plus, TLS 1.3 réduit le nombre d'allers-retours nécessaires pour établir une connexion sécurisée, ce qui réduit la latence et améliore les performances du site web.

Voici deux façons de déterminer si un serveur web nginx utilise TLS 1.3 :

1.  **Utilisation du journal d'accès nginx :** Dans le journal d'accès nginx, recherchez les requêtes qui ont été effectuées via HTTPS (port 443) et vérifiez la version du protocole TLS utilisée par le client. Si le client et le serveur utilisent TLS 1.3, le journal d'accès affichera la version du protocole comme "TLSv1.3". Par exemple, une entrée de journal pour une requête utilisant TLS 1.3 pourrait ressembler à ceci :

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">1.2.3.4 - - [27/Mar/2023:11:12:13 +0000] </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"GET / HTTP/1.1"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> 200 1234 </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"-"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.4.5.6 Safari/537.36"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"TLSv1.3"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">.</span></p></td></tr></tbody></table>

[https://nginx.org/en/docs/http/ngx_http_ssl_module.html#variables](https://nginx.org/en/docs/http/ngx_http_ssl_module.html#variables)

**2. Utilisation d'un vérificateur SSL/TLS :** Pour déterminer si un serveur nginx utilise TLS 1.3 à l'aide d'un vérificateur SSL/TLS, exécutez un test sur le serveur à l'aide de l'outil de vérification, tel que SSL Server Test de SSL Labs ou SSL Server Test de Qualys SSL Labs. L'outil analysera la configuration SSL/TLS du serveur et fournira des informations sur le protocole TLS utilisé, y compris si TLS 1.3 est activé. Le rapport généré par l'outil fournira également des détails sur la configuration SSL/TLS du serveur, y compris les problèmes ou vulnérabilités trouvés.

**Configurer NGINX :** Pour définir le paramètre `ssl_protocols` dans la configuration nginx, ouvrez le fichier `/etc/nginx/nginx.conf` et localisez le paramètre `ssl_protocols` dans le bloc `http`, puis définissez les protocoles SSL/TLS souhaités (par exemple, `ssl_protocols TLSv1.2 TLSv1.3;`) et enregistrez le fichier. Enfin, testez la configuration à l'aide de `nginx -t` et rechargez le service nginx à l'aide de `systemctl reload nginx`.

[https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_protocols](https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_protocols)

HTTP/2 est la dernière version du protocole HTTP qui alimente le web. Il est conçu pour améliorer les performances des sites web en réduisant la latence et en permettant des temps de chargement de page plus rapides. HTTP/2 y parvient en introduisant plusieurs nouvelles fonctionnalités, notamment le multiplexage, la compression d'en-tête et le push serveur.

Il existe plusieurs façons de déterminer si un serveur web nginx utilise HTTP/2 :

1.  **Vérifier les en-têtes de réponse :** Lorsqu'un client effectue une requête à un serveur nginx, le serveur répond avec des en-têtes qui incluent des informations sur le protocole utilisé. Si HTTP/2 est utilisé, les en-têtes de réponse incluront la chaîne "HTTP/2" dans le champ "server". Par exemple, le champ "server" peut indiquer "nginx/1.20.1 (Ubuntu) HTTP/2".

2.  **Utiliser un outil de développement de navigateur :** Une autre façon de déterminer si un serveur nginx utilise HTTP/2 est d'utiliser un outil de développement de navigateur, tel que Chrome DevTools ou Firefox Developer Tools. Lorsque l'outil est ouvert et qu'une page est chargée depuis le serveur nginx, la colonne "protocole" dans l'onglet réseau affichera "h2" si HTTP/2 est utilisé. Si HTTP/1.x est utilisé, la colonne protocole affichera "http/1.1".

**Configurer NGINX :** Pour configurer nginx afin d'utiliser HTTP/2, vous devez vous assurer que votre version de nginx prend en charge HTTP/2, puis l'activer en ajoutant le paramètre `http2` à la directive `listen` dans le fichier de configuration du serveur, et inclure également un certificat SSL. Par exemple, la directive `listen 443 ssl http2;` activerait HTTP/2 sur SSL sur le port 443.

[http://nginx.org/en/docs/http/ngx_http_v2_module.html](http://nginx.org/en/docs/http/ngx_http_v2_module.html)

## Augmenter les ressources du serveur

Bien que la quantité exacte dépende de la charge de travail spécifique du site web, un minimum de 4 Go et 2 cœurs vCPU est recommandé lors de l'évaluation de vos besoins en ressources sur un site web à fort trafic. Dans un serveur haute performance exécutant MySQL, Redis, PHP-FPM, Apache et Nginx, disposer de suffisamment de RAM est essentiel pour permettre aux techniques de mise en cache de chaque service de fonctionner à leur plein potentiel.

Ces services utilisent la RAM pour mettre en cache les données fréquemment consultées et réduire le temps nécessaire pour les récupérer à partir du disque ou d'autres périphériques de stockage. Si le serveur ne dispose pas de suffisamment de RAM, la mise en cache ne sera pas aussi efficace, ce qui entraînera des temps de traitement plus longs et des performances de site web plus lentes.

Par exemple, MySQL utilise le pool de mémoire tampon InnoDB pour mettre en cache les données fréquemment consultées de la base de données, et Redis utilise la mémoire pour stocker les données fréquemment consultées dans des paires clé-valeur. PHP-FPM utilise opcache pour mettre en cache les scripts PHP, et Nginx utilise la RAM pour mettre en cache les pages web et les actifs fréquemment demandés.

Si le serveur ne dispose pas de suffisamment de RAM, ces techniques de mise en cache ne seront pas aussi efficaces, et le serveur peut recourir à l'échange (swapping) de données vers et depuis des périphériques de stockage plus lents, ce qui entraîne des temps de réponse plus lents et une capacité de serveur réduite.

### Utilisation du Swap

Pour déterminer si un serveur Linux effectue du swapping, vous pouvez utiliser la commande `free` pour afficher l'utilisation de la mémoire du système. Si la valeur "Swap" est supérieure à zéro, cela indique que le serveur utilise actuellement de l'espace d'échange pour stocker des données en mémoire.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># free</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; used&nbsp; &nbsp; &nbsp; &nbsp; free&nbsp; &nbsp; &nbsp; shared&nbsp; buff/cache &nbsp; available</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Mem:&nbsp; &nbsp; &nbsp; &nbsp; 3145728&nbsp; &nbsp; &nbsp; 258388 &nbsp; &nbsp; 1784700 &nbsp; &nbsp; &nbsp; 36848 &nbsp; &nbsp; 1102640 &nbsp; &nbsp; 2850492</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Swap: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</span></p></td></tr></tbody></table>

De plus, vous pouvez utiliser la commande `vmstat` pour surveiller la quantité d'activité de swapping se produisant sur le serveur, avec les valeurs "si" et "so" indiquant la quantité de mémoire échangée (swapped in) et sortie (swapped out), respectivement.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># vmstat</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">procs -----------memory---------- &nbsp; ---swap-- -----io---- -system-- ------cpu-----</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> r&nbsp; b &nbsp; swpd &nbsp; free &nbsp; buff&nbsp; cache &nbsp; si &nbsp; so&nbsp; &nbsp; bi&nbsp; &nbsp; bo &nbsp; </span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">in</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> &nbsp; cs us sy id wa st</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> 1&nbsp; 0&nbsp; &nbsp; &nbsp; 0 1782348&nbsp; &nbsp; &nbsp; 0 1102660&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 16&nbsp; &nbsp; 14&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; 4&nbsp; 3 93&nbsp; 0&nbsp; 0</span></p></td></tr></tbody></table>

Le serveur ci-dessus n'utilise pas de Swap et n'est pas en train de swapper.

### OOM Kills

Pour déterminer si un serveur Linux subit des arrêts OOM (Out of Memory), vous pouvez vérifier les journaux système pour les messages liés aux événements OOM. Sur la plupart des distributions Linux, le fichier journal système est situé à `/var/log/messages` ou `/var/log/syslog`.

Pour afficher les messages liés à OOM, vous pouvez rechercher le mot-clé "OOM" à l'aide de la commande grep :

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"># grep -i "OOM" /var/log/messages</span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:10pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">May&nbsp; 8 01:22:35 vps53534 kernel: mysqld invoked oom-killer: gfp_mask=0x201da, order=0, oom_score_adj=-1000</span></p></td></tr></tbody></table>

Si des événements OOM se produisent, vous verrez des entrées de journal indiquant quel processus ou application a été tué par le tueur OOM. De plus, vous pouvez utiliser des outils comme `dmesg` et `journalctl` pour afficher les messages du noyau liés aux événements OOM.

En disposant de suffisamment de RAM sur le serveur, chaque service peut utiliser les techniques de mise en cache au maximum, ce qui se traduit par des temps de traitement plus rapides, une utilisation réduite du disque et une meilleure expérience utilisateur globale.

## La mise en cache expliquée avec des techniques d'implémentation

### ETags

L'en-tête de réponse HTTP ETag (ou balise d'entité) que les serveurs web et les navigateurs utilisent pour déterminer si une ressource dans le cache local du navigateur correspond à celle sur le serveur d'origine.

Lorsqu'un utilisateur revisite un site, l'une des deux choses suivantes se produit :

*   Afficher le contenu à l'utilisateur dans le navigateur s'il est dans le temps de fraîcheur du cache autorisé - Time to Live (TTL)
*   Si le contenu est hors de son temps de cache (TTL expiré) alors :
    *   S'il a un Etag, il devra envoyer un Etag à l'URL résolue pour voir s'il doit s'actualiser.
    *   S'il obtient l'Etag correspondant, il conservera le contenu qu'il a (pas de nouveau téléchargement de contenu) et définira le TTL du contenu existant dans le futur, ce qui en fait un contenu mis en cache viable pour le TTL.
    *   S'il obtient un Etag différent, il déclenchera un nouveau téléchargement du nouveau contenu.
    *   S'il n'a pas d'Etag, il enverra une requête pour obtenir le contenu potentiellement nouveau et téléchargera ce contenu, qu'il soit vraiment nouveau ou non.

Il est important de noter que la requête et la réponse Etag sont beaucoup, beaucoup plus petites qu'un téléchargement de contenu. Comme la plupart des sites web ne changent pas entre les TTL, les TTL doivent être bas "juste au cas où" le site changerait, par conséquent le processus Etag est beaucoup plus efficace que les TTL seuls.

#### Comment vérifier si votre serveur répond en utilisant des ETags

1.  Ouvrez les outils de développement dans votre navigateur :
2.  Dans Chrome, appuyez sur Ctrl + Maj + I (Windows/Linux) ou Cmd + Opt + I (Mac).
3.  Dans Firefox, appuyez sur Ctrl + Maj + I (Windows/Linux) ou Cmd + Opt + I (Mac).
4.  Ou faites un clic droit sur la page web et sélectionnez **Inspecter**.
5.  Cliquez sur l'onglet **Réseau** (Network) dans les outils de développement.
6.  Actualisez la page web ou lancez l'action que vous souhaitez analyser. Cela remplira le panneau réseau avec une liste de requêtes effectuées par le navigateur.
7.  Localisez une ressource spécifique comme un fichier CSS ou JavaScript. Cliquez sur la requête pour ouvrir la vue détaillée.
8.  Dans la vue détaillée, recherchez l'onglet **En-têtes** (Headers) (cela devrait être l'onglet par défaut dans les deux navigateurs).
9.  Faites défiler jusqu'à la section **En-têtes de réponse** (Response Headers) pour le fichier sélectionné et vérifiez la présence d'un Etag.

![Image](https://lh5.googleusercontent.com/Ynyrr_YhIPfRI6kBmx9NdCNqbzgK18vrlmi289r0hQ-8dr38iwni8hyJUq3G0Sd6vRAYDS-JGVq-dWG4IpAdvwn_Cv6yedXM6pmFNVOToui4gCvaH5D6hb1FfmfUIwhNzFJ0DyFPIrsbxslF51i5Yfg)

Comment configurer les ETags dans W3 Total Cache

1.  Dans votre tableau de bord d'administration WordPress, accédez à **Performance > Browser Cache**.
2.  Faites défiler jusqu'à la section **General**.
3.  Cochez la case à côté du paramètre "**Set entity tag (ETag)**".
4.  Sur la même page, en utilisant la méthode ci-dessus, vous pouvez également activer ou désactiver les ETags pour des types de fichiers spécifiques, notamment : CSS & JS, HTML & XML, Media & Other Files
5.  Appuyez sur le bouton **Save Settings & Purge Caches** dans chaque boîte de paramètres respective pour enregistrer et appliquer les modifications de mise en cache immédiatement.

![Image](https://lh3.googleusercontent.com/oVGPcpjE0Dd0RsfplP4Gr2DYCxIcVEUrmznaMxuUeFDpv-ItCe3bdN6ywUQl6vbKhHDXGrU0MBpY89F6_iuX2LlqoiyYtDqLGF42jzVfXCBhYB1-18DmVxw8F_AbkU1_86TdLktWdq7G9_uqkHrySuk)

## Time To Live (TTL)

La valeur Time To Live (TTL) est le temps pendant lequel un objet est stocké dans un système de mise en cache avant d'être supprimé ou actualisé. Dans le contexte des CDN, le TTL fait généralement référence à la mise en cache de contenu, qui est le processus de stockage d'une copie des ressources de votre site web (par exemple, images, texte, Javascript) sur des proxys CDN pour améliorer la vitesse de chargement des pages et réduire la consommation de bande passante du serveur d'origine.

Les TTL sont utilisés à des fins de mise en cache, et la valeur est stockée en secondes. Si la valeur TTL est définie sur un nombre bas comme 3600 secondes, les données seront stockées dans le cache pendant une heure. Après une heure, une nouvelle version des données doit être récupérée.

Si la valeur TTL est définie sur un nombre élevé comme 86400 secondes, les données seront stockées dans le cache pendant 24 heures.

Des valeurs TTL élevées mettent vos données en cache plus longtemps et réduisent la fréquence de récupération de nouvelles données. Cela donne à votre site web un coup de pouce en termes de performances en réduisant la charge du serveur, ce qui améliore l'expérience de l'utilisateur.

#### Politiques TTL pour le contenu statique et dynamique

Avant de définir vos politiques TTL de cache, vous devez prendre en compte les types de contenu que vous avez : statique et dynamique.

Les fichiers statiques comme les images et les PDF ne changent pas fréquemment, ils doivent donc avoir une politique TTL longue. Cela garantit que ces fichiers sont mis en cache pendant une plus longue période.

Le contenu dynamique (par exemple CSS, HTML, contenu piloté par base de données) est mis à jour fréquemment, ces ressources doivent donc être définies en conséquence. Le contenu dynamique aura des politiques TTL variables, que ce soit quelques minutes, secondes ou aucune du tout.

#### Définir les politiques TTL dans W3 Total Cache

1.  Dans votre tableau de bord d'administration WordPress, accédez à **Performance > Page Cache**.
2.  Faites défiler jusqu'à la section **Advanced**. Localisez le paramètre "**Maximum lifetime of cache objects:**" et définissez la durée max-age.
3.  Faites défiler vers le bas et appuyez sur le bouton Save Settings & Purge Caches pour enregistrer et appliquer les paramètres immédiatement.

![Image](https://lh3.googleusercontent.com/K095w7ZbBQE-q6sgG2rEOiSj7e0j8jmq3PLmdzLWApG6IwYdJBIcboqQQsbEc80-AOgXPkcAFnOo-DXrbTzVcqefGF569tm6blX4Zwmqp3afftwGADtxLIcPFhLvy6Ahh5NVQSCoKdjU7VJHh273WKw)

### En-têtes HTTP Cache-Control

*   **Cache-Control: Max-Age**
    *   La directive max-age spécifie la durée maximale pendant laquelle une ressource peut être mise en cache par un client ou un serveur proxy. Après expiration, un navigateur doit actualiser sa version de la ressource en envoyant une autre requête à un serveur.
    *   `cache-control: max-age=3600` signifie que la ressource renvoyée est valide pendant une heure, après quoi le navigateur doit demander une version plus récente.
*   **Cache-Control: No-Cache**
    *   La directive no-cache indique à un navigateur ou à un serveur de mise en cache de ne pas utiliser la version mise en cache d'une ressource et de demander une nouvelle version de la ressource au serveur d'origine.
*   **Cache-Control: No-Store**
    *   La directive no-store indique aux navigateurs de ne jamais stocker une copie de la ressource et de ne pas la conserver en cache. Ce paramètre est généralement utilisé pour les informations sensibles comme les numéros de carte de crédit, et garantit la conformité PCI en ne stockant pas ce type de données dans le cache.
*   **Cache-Control: Public**
    *   La directive de réponse public indique qu'une ressource peut être mise en cache par n'importe quel cache. Cette directive est utile pour les ressources qui changent rarement, et lorsque la ressource est destinée à la consommation publique.
*   **Cache-Control: Private**
    *   La directive de réponse private indique qu'une ressource est spécifique à l'utilisateur - elle peut toujours être mise en cache, mais uniquement sur un appareil client. Par exemple, une réponse de page web marquée comme privée peut être mise en cache par un navigateur, mais pas par un réseau de diffusion de contenu (CDN).
    *   Cette directive peut être utilisée conjointement avec la directive max-age pour spécifier combien de temps la ressource peut être mise en cache avant de devoir être revalidée.

#### Définir les en-têtes HTTP Cache-Control dans W3 Total Cache

1.  Dans votre tableau de bord d'administration WordPress, accédez à **Performance > Browser Cache**.
2.  Déterminez quelles seront vos politiques Cache-Control pour les fichiers suivants :
    *   CSS & JS
    *   HTML & XML
    *   Media & Other Files
3.  Localisez la section **CSS & JS**.
    *   Cochez la case à côté du paramètre "**Set cache control header**".
    *   Sous cette option, sélectionnez la "Cache Control policy:" parmi les sélections fournies.
4.  Répétez l'étape 3 pour ces sections :
    *   Section **HTML & XML**
    *   **Media & Other Files**
5.  Faites défiler vers le bas et appuyez sur le bouton **Save Settings & Purge Caches** pour enregistrer et appliquer les paramètres immédiatement.

![Image](https://lh4.googleusercontent.com/niLC--VuoLPAbK_F9odKjqHc4SUDOoHUnbeL2lywXNqyWlDOLDoNUXOIpW3ubO7ZQn8hTwXEzsxAo8VygXhaEBCLl9ctKd_qMK20PBRouWDlCKU3W__50JSofYcYkndUPEQpPLdijvB1i_8275SvEAg)

### Cache Busting (Invalidation du cache)

Le Cache Busting est une technique utilisée pour forcer un navigateur ou un serveur de mise en cache à récupérer une nouvelle version d'une ressource, plutôt que d'utiliser la version mise en cache. Une façon de faire cela est d'utiliser un paramètre de requête, tel qu'un horodatage ou un numéro de version, dans l'URL de la ressource.

Par exemple, au lieu de demander une ressource à l'URL `https://www.example.com/styles.css`, une URL de cache-busting ressemblerait à `https://www.example.com/styles.css?v=1234`, où `v=1234` est le paramètre de requête. Ce paramètre de requête peut être un horodatage ou un numéro de version, et il sera ignoré par le serveur, mais il forcera le navigateur ou le serveur de mise en cache à traiter la requête comme une nouvelle requête, plutôt que d'utiliser la version mise en cache de la ressource.

Cette technique est souvent utilisée pour les ressources statiques comme les feuilles de style, les scripts, les images, etc., qui sont destinées à être mises en cache, mais qui peuvent devoir être mises à jour fréquemment. En ajoutant un paramètre de requête à l'URL, une nouvelle version de la ressource sera récupérée chaque fois que le paramètre de requête change.

Cette technique est couramment utilisée pour garantir que le client obtient la dernière version des ressources après leur mise à jour côté serveur.

#### Activer le Cache Busting dans W3 Total Cache

L'activation du Cache Busting dans W3 Total Cache se fait en sélectionnant l'option "Prevent caching of objects after settings change" sous **Performance > Browser Cache**. Cela ajoute une chaîne aléatoire à la fin des URL des actifs statiques.

![Image](https://lh6.googleusercontent.com/6-dBvrms8eOPVkl2Xk_hK0M27bk7yXrblhQzVAU2BP_0ifVj145xUJQoNHnPvIoXALz1pCkNQdxACx6AiEfu-1r0wbXCXftLY-cvQUF-Qjvp7c23-YZC58GXCarK239gSlLxuDIpV8UswxyJ92oxOUc)

Chaque fois qu'une modification est apportée à un actif statique, l'invalidation du cache se fait en naviguant vers la page Browser Cache sous performance, et en cliquant sur "Update Media Query String" en haut. Cela régénère une nouvelle chaîne qui s'ajoute à l'URL de l'actif statique, qui ne correspondra pas à l'URL de la version stockée dans votre navigateur, de sorte qu'il affichera la version mise à jour au visiteur.

![Image](https://lh3.googleusercontent.com/dzKEf1iWSU9CC7Vs37Xg3wrKWyhCGPn0xMsGfqlxZFMYr-U0mEu6oZVXADC8sStSVRp5MOiLUz6GBj0mFOT83w-Xm589nCtMFNQiGSiA2-hxtCCbFdXTXARnyPP6NXnVdnyTXrYBvYAwT_TZSafsGsQ)

## Mise en cache Proxy / CDN

Le stockage en cache est une ressource finie, donc chaque bit de performance de stockage compte. La mise en cache sur des serveurs proxy est l'un des moyens de réduire le temps de réponse perçu par les utilisateurs du World Wide Web.

Expliquer les choix : Facilité d'utilisation contre configurations compliquées vs vos besoins

*   Niveau CDN / mise en cache en périphérie (edge caching)
*   Cache Proxy Serveur (NGINX)
*   Plugins WordPress / Mise en cache au niveau de l'application

Qu'avez-vous maintenant ? Quel est votre budget ? (Les CDN peuvent être coûteux) Bunny a une solution basée sur la région, avec une tarification explicite par région que nous pouvons mentionner ici.

Où est votre public par rapport à votre serveur ?

Que voulons-nous guider l'utilisateur à faire ?

### Politiques d'éviction de cache

Les algorithmes de remplacement de cache jouent un rôle central dans la réduction des temps de réponse en sélectionnant des actifs de site web spécifiques pour la mise en cache, de sorte qu'une métrique de performance donnée soit maximisée. Ils le font en décidant quels objets peuvent rester et quels objets doivent être expulsés la prochaine fois que le site web est accédé.

*   **Least Recently Used (LRU) :** Remplace la ligne de cache qui a été dans le cache le plus longtemps sans référence à celle-ci.
*   **First-In First-Out (FIFO) :** Remplace la ligne de cache qui a été dans le cache le plus longtemps.
*   **Least Frequently Used (LFU) :** Remplace la ligne de cache qui a connu le moins de références.
*   **Random :** Choisit une ligne au hasard parmi les lignes candidates.

## Moteurs de stockage de mise en cache

Pour les différents types de moteurs de mise en cache et de stockage disponibles dans le plugin W3TC. La liste suivante décrit ces choix pour vous.

<table style="border:none;border-collapse:collapse;table-layout:fixed;width:540pt"><colgroup><col></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:middle;background-color:#d7d7d7;padding:7.2pt 7.2pt 7.2pt 7.2pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;margin-top:2pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Note :</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> Pour que certains de ces services soient disponibles pour votre installation WordPress, ils doivent être installés sur le serveur conjointement avec l'extension ou le module PHP nécessaire au fonctionnement du service.</span></p></td></tr></tbody></table>

#### Méthodes basées sur le disque avec W3 Total Cache

*   **Disk: Basic** est l'option qui invoque un script PHP (advanced-cache.php) qui fait le travail de mise en cache difficile.
*   **Disk: Enhanced** est la manière la plus efficace de mettre en cache. Cette méthode n'invoque pas de scripts PHP mais résout la tâche de mise en cache de manière beaucoup plus élégante en créant une version statique d'une page web et sert celle-ci au lieu de la version dynamique de votre site web via des réécritures dans le fichier .htaccess. Cette approche permet à votre serveur web de traiter directement une version statique (mise en cache) de vos pages web. Certains tests révèlent que la méthode Enhanced rend un site web jusqu'à 2,5 fois plus rapide par rapport à la méthode Basic.

#### Méthodes basées sur la RAM avec W3 Total Cache

*   **Memcached** est un système de mise en cache d'objets en mémoire distribué et haute performance destiné à accélérer les applications web dynamiques en allégeant la charge de la base de données. Il fournit un magasin clé-valeur en mémoire pour de petits morceaux de données arbitraires (chaînes, objets) provenant des résultats d'appels de base de données, d'appels d'API ou de rendu de page.
    *   Memcached est idéal pour des données relativement petites et statiques, et par conséquent peut être plus efficace que Redis dans des ensembles de données plus petits. Il est également multithread, ce qui peut être un avantage lors de l'utilisation d'un VPS ou d'un serveur dédié avec un grand pool de ressources.
*   **Redis** est un magasin de structure de données en mémoire open source (licence BSD), utilisé comme base de données, cache et courtier de messages. Il prend en charge des structures de données telles que les chaînes, les hachages, les listes, les ensembles, les ensembles triés avec des requêtes de plage, les bitmaps, les hyperloglogs, les index géospatiaux avec des requêtes de rayon et les flux. Les structures de données Redis résolvent des problèmes de programmation très complexes avec des commandes simples exécutées dans le magasin de données, réduisant l'effort de codage, augmentant le débit et réduisant la latence.

#### Méthodes basées sur l'OPcode avec W3 Total Cache

*   **Alternative PHP Cache (APC / APCu)** qui fournit une mise en cache d'Opcode en mémoire et un magasin clé-valeur pour rechercher les éléments mis en cache. Ceci est largement obsolète en faveur des mécanismes modernes de mise en cache d'Opcode, car APC n'est pas pris en charge dans la branche PHP 7.x.
*   **APCu** est similaire à APC, bien que pour prendre en charge les variantes modernes de PHP, il soit dépouillé de la mise en cache d'Opcode et ne fournisse que les mécanismes de magasin clé-valeur en mémoire. Lorsqu'il est associé à des mécanismes modernes de mise en cache d'Opcode, il peut fournir la fonctionnalité fournie à l'origine par APC, bien qu'il ne doive être utilisé que lorsque vous avez besoin d'une taille de cache limitée.
*   **eAccelerator** est une solution de mise en cache d'Opcode en mémoire qui prend en charge les versions majeures PHP 4.x et 5.x. Ceci est largement obsolète en faveur des mécanismes modernes de mise en cache d'Opcode, car eAccelerator n'est pas pris en charge dans la branche PHP 7.x.
*   **XCache** est une solution de mise en cache d'Opcode en mémoire qui prend en charge jusqu'à la version PHP 5.6. Ceci est largement obsolète en faveur des mécanismes modernes de mise en cache d'Opcode, car XCache n'est pas pris en charge dans la branche PHP 7.x.
*   **WinCache** (Recommandé pour les environnements basés sur Windows) est une extension pour Microsoft IIS qui fournit une mise en cache d'Opcode en mémoire et prend actuellement en charge jusqu'à IIS 10 au 30/04/2019. Consultez la page officielle du produit Microsoft pour les dernières informations.

## Mise en cache de page (Page Caching)

La mise en cache de page fait référence à la mise en cache du contenu d'une page entière côté serveur. Plus tard, lorsque la même page est demandée à nouveau, son contenu sera servi à partir du cache au lieu de le régénérer à partir de zéro.

Une page d'un site web WordPress contient du contenu dynamique : scripts PHP, JavaScript et requêtes SQL. L'exécution de ce contenu dynamique est très gourmande en ressources et prend beaucoup de temps. La mise en cache de page permet de former une partie de la page web en HTML statique. Avec le cache de page activé, le contenu du site web s'affiche plus rapidement pour un visiteur avec moins de charge pour le serveur. C'est l'un des moyens les plus efficaces d'améliorer les performances de votre site web.

<table style="border:none;border-collapse:collapse;table-layout:fixed;width:540pt"><colgroup><col></colgroup><tbody><tr style="height:44.87231445312501pt"><td style="vertical-align:middle;background-color:#d9ead3;padding:7.2pt 7.2pt 7.2pt 7.2pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;margin-top:2pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Astuce :</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> La méthode de mise en cache </span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Disk: Enhanced</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> est le moteur de stockage recommandé et l'option la plus fiable pour la mise en cache de page pour la plupart des types de plans d'hébergement.</span></p></td></tr></tbody></table>

Expliquer pourquoi Disk Enhanced est souvent recommandé, dans quels scénarios un autre type de cache de page donnera-t-il de meilleures performances ?

CDN, Cache Proxy NGINX, etc…

## Mise en cache d'objets (Object Caching)

La mise en cache d'objets est le processus qui implique le stockage des requêtes de base de données pour servir un élément de données spécifique lors de la demande de serveur suivante. En conséquence, il y aura moins de requêtes envoyées à la base de données et le résultat est que votre site web se chargera beaucoup plus rapidement.

### Cache d'objets WordPress

L'idée d'un cache d'objets est que le cœur de WordPress, les thèmes et les plugins peuvent stocker certaines données fréquemment consultées et rarement modifiées dans un magasin d'objets. C'est pour que ces objets n'aient pas à être récupérés et traités à chaque requête.

[wp_object_cache](https://developer.wordpress.org/reference/classes/wp_object_cache/) est la classe de WordPress pour la mise en cache des données, et par défaut, le cache d'objets est non persistant. Cela signifie que les données stockées dans le cache résident en mémoire uniquement et seulement pour la durée de la requête. Les données mises en cache ne seront pas stockées de manière persistante entre les chargements de page, sauf si vous installez un plugin de mise en cache persistante.

En fin de compte, la mise en cache d'objets réduira le nombre total de requêtes de base de données requises pour chaque chargement de page. Lorsque le processeur n'a pas à reconstruire ces blocs de données, votre temps de réponse diminuera.

![Image](https://lh5.googleusercontent.com/mvUE88n655DRI9aJ7Xtjs9am6jr4g5z5fq_4q6qTeY4MFUFFiYH83tl2dmT2YAtTM7KxOuoxQaNYzDbf5yVA4i9QQwPW0LKkbEHZQpwXVpqE2mutSWRENAQDkAtOQX0H7PlMFb4oUNJXQWAPiRcu7mk)

<table style="border:none;border-collapse:collapse;table-layout:fixed;width:540pt"><colgroup><col></colgroup><tbody><tr style="height:44.87231445312501pt"><td style="vertical-align:top;background-color:#d9ead3;padding:7.2pt 7.2pt 7.2pt 7.2pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;margin-top:2pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Astuce :</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> La méthode de mise en cache </span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Redis</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> est le moteur de stockage recommandé et l'option la plus fiable pour la mise en cache d'objets si vous avez un VPS ou un serveur dédié. Pour l'hébergement partagé, Disk peut être votre seule option dans certains cas.&nbsp;</span></p></td></tr></tbody></table>

#### Stocker les transients dans la base de données avec W3 Total Cache

Les transients sont les données qui existent en mémoire (dans le cache) pour l'activité WordPress actuelle. Cela rend le site web plus rapide. Cependant, lorsque le cache est vidé ou expire, les nombreuses requêtes de base de données lourdes doivent s'exécuter à nouveau pour remplir le cache. Afin d'éviter ces requêtes de base de données gourmandes en ressources, il est recommandé d'enregistrer les données transitoires dans la base de données. Cela entraîne une charge de base de données bien moindre lorsque le cache est vidé ou expire.

Dans W3 Total Cache, il existe une option pour stocker les transients dans la base de données. Ce paramètre peut être activé dans l'une des deux zones suivantes : Paramètres avancés de la mise en cache d'objets ou en naviguant vers **Performance > Object Cache**.

![Image](https://lh5.googleusercontent.com/BIcHYbzd9wrqXQHqCQz581zbgGusAntNVDfYaTLWUCiljUKj7DihS2f1eA6RphD0MQDPbLF7AVoGLFBxy1BcZNfDV8RAMWsmkYnfkdUo8tMMso0GlepcNHMMEytYkJK8NiGf6IK0OOrmgNGG4lpOZPI)

## Mise en cache de la base de données

La mise en cache de la base de données stockera les résultats des requêtes de base de données MySQL, ce qui, en théorie, accélère le retour d'une réponse. Bien que cela semble utile, il est recommandé de la désactiver et d'utiliser le **Cache d'objets** (Object Cache) via Redis ou Memcache à la place.

<table style="border:none;border-collapse:collapse;table-layout:fixed;width:540pt"><colgroup><col></colgroup><tbody><tr style="height:27pt"><td style="vertical-align:middle;background-color:#d9ead3;padding:7.2pt 7.2pt 7.2pt 7.2pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.5;margin-top:2pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Astuce :</span><span style="font-size:11pt;font-family:Arial,sans-serif;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> La mise en cache de la base de données n'est pas recommandée si vous êtes hébergé sur des disques SSD ou NVMe.</span></p></td></tr></tbody></table>

Optimisation de l'application WordPress

Une fois le serveur et la base de données réglés pour la performance, l'étape suivante consiste à s'assurer que l'application est optimisée pour la performance. Cela peut être fait en tirant parti de techniques conçues pour livrer les actifs plus efficacement, ou en supprimant toutes les données inutiles de ceux-ci, ce qui entraîne des transferts plus rapides. Voici quelques-unes des techniques les plus efficaces que vous pouvez utiliser pour optimiser votre site WordPress pour la vitesse, mais ce n'est pas une liste exhaustive.

## Top 10 des techniques pour améliorer les Core Web Vitals pour WordPress

Lorsque vous vous concentrez sur les performances des pages et du site web, il existe des tâches essentielles que vous pouvez accomplir pour vous aider à atteindre les résultats de performance que vous recherchez. Ces tâches incluent la configuration de la mise en cache, le respect des meilleures pratiques pour les éléments pouvant introduire des décalages de mise en page, et l'ajustement de vos actifs pour garantir qu'ils sont configurés pour la livraison la plus rapide possible à vos visiteurs.

### 1. Mise en cache de page (Page Caching)

WordPress est un programme dynamique par défaut, donc le moyen le plus simple d'accélérer les choses est de créer une version statique des pages de votre site web, et d'utiliser des redirections pour servir ces fichiers mis en cache au lieu de calculer le résultat à nouveau avec PHP et MySQL. Ce cache peut être stocké sur le disque, dans la RAM du serveur ou, si vous utilisez un CDN, sur un Point de Présence ou un Serveur Edge.

Si vous stockez le cache de page sur le serveur web, il est recommandé d'utiliser le stockage Disk: Enhanced, afin que les redirections du serveur web puissent servir le cache avant que la requête n'atteigne PHP, rendant essentiellement le site plus rapide en utilisant ces fichiers statiques au lieu de les recréer avec des requêtes et des calculs.

Le stockage du cache de page sur un CDN en périphérie est une pratique connue sous le nom de Livraison Complète du Site (Full Site Delivery) ou Accélération, où le site web est servi en envoyant une version mise en cache du site web depuis un emplacement géographique proche du visiteur, par opposition à la requête atteignant le serveur d'origine où vivent les données. Cela supprime la latence introduite par la localisation de l'équation, rendant les sites web beaucoup plus rapides pour tous vos visiteurs.

### 2. Mise en cache d'objets avec Redis

Par défaut, le cache d'objets dans WordPress n'est pas persistant. Cela signifie que les données stockées dans le cache résident en mémoire pour la durée de la requête et sont supprimées après la livraison de la réponse. Pour stocker ces objets mis en cache pour une réutilisation, vous pouvez utiliser un plugin qui connecte le cache WordPress à Redis, un service basé sur la RAM utilisé pour le stockage d'objets persistant.

W3 Total Cache vous permettra d'utiliser la mise en cache d'objets avec Redis. Redis stocke les données sous forme de clés dans la mémoire du serveur web, ce qui permet une récupération des données beaucoup plus rapide que la méthode WordPress, qui met en cache ces objets dans la table d'options de la base de données par défaut.

### 3. Tirer parti des modèles UX courants

Lorsque vous ajoutez des éléments tels que des polices, des carrousels et des bannières à votre site web, vous voulez vous assurer de suivre les meilleures pratiques. Ces types d'éléments peuvent avoir un impact négatif sur les Core Web Vitals s'ils ne sont pas implémentés correctement.

Un excellent exemple de cela est de ne pas définir explicitement des espaces réservés ou des dimensions appropriés pour les images, les vidéos, les iframes ou d'autres contenus intégrés similaires sur votre page. Lorsque le contenu est chargé, cela peut provoquer un décalage de mise en page, et les Core Web Vitals ont des métriques très spécifiques, car une page qui bouge peut créer une mauvaise expérience utilisateur pour votre visiteur.

Le chargement de polices personnalisées sur votre site web est un autre exemple où les choses peuvent mal tourner. Les ajouter incorrectement peut retarder le rendu du texte ou même provoquer des décalages de mise en page. Généralement, votre navigateur retardera l'affichage du texte jusqu'à ce que la police soit chargée, ce qui peut également avoir un impact sur votre FCP ou LCP. Si le texte se charge avant votre police web, et qu'ils sont de tailles différentes, des décalages de mise en page se produiront et impacteront directement votre score CLS.

L'utilisation des [meilleures pratiques pour ces éléments et d'autres éléments UX courants](https://web.dev/patterns/web-vitals-patterns/) est recommandée pour éviter les impacts négatifs sur les performances de votre page.

### 4. Minification

Lors du développement d'un site web, la plupart des programmeurs ont tendance à utiliser l'espacement et les commentaires pour rendre le code lisible pour eux-mêmes et pour les autres. La minification est une technique utilisée pour réduire les temps de chargement sur un site web en supprimant les caractères inutiles et les commentaires du code pour une livraison et un rendu plus rapides. Cette technique peut être utilisée sur les fichiers et le code HTML, CSS et Javascript, et peut améliorer considérablement les performances de votre site.

Pour minifier vos actifs avec W3 Total Cache, vous devrez l'activer dans les Paramètres Généraux. Il existe un mode automatique qui tente de gérer le gros du travail pour vous, mais si vous rencontrez des problèmes avec celui-ci, vous devrez activer le mode manuel et ajouter vous-même les actifs que vous souhaitez minifier sous la page minify.

Il existe un assistant d'aide pour configurer la minification, que vous pouvez utiliser pour spécifier le modèle à utiliser lors du chargement de l'actif, ou choisir de charger l'actif globalement. En utilisant cette méthode, vous pouvez créer des modèles de page et des actifs spécifiques à la page qui ne chargent que les fichiers nécessaires pour la page demandée afin d'affiner votre application pour la performance.

### 5. Concaténation

Le terme concaténation fait référence à l'action de lier des choses ensemble dans une série. Dans le contexte de la performance d'un site web, cela signifie combiner plusieurs fichiers CSS et Javascript en quelques fichiers, pour livrer les actifs dont le navigateur a besoin plus rapidement avec moins de requêtes.

Dans W3 Total Cache, la concaténation de fichiers est une option dans les Paramètres Généraux, sous minify. Cocher la case vous permettra de combiner les fichiers d'actifs dans l'un des 3 fichiers différents dans le DOM : Un dans le `head`, un dans le `body` ou un dans le pied de page avant la fermeture du document.

### 6. Éliminer les ressources bloquant le rendu

Les ressources bloquant le rendu sont essentiellement du code dans les fichiers de votre site web, généralement CSS et JavaScript, qui empêche une page web de se charger rapidement. Pour vous assurer que votre site se charge aussi efficacement que possible, vous pouvez spécifier des attributs qui indiquent au navigateur comment télécharger le code par rapport aux autres actifs du site.

Lors de la concaténation et de la minification des fichiers à l'aide de W3 Total Cache, vous aurez également la possibilité de les intégrer avant la fermeture de la balise `</head>` du document, ou après la balise `<body>`. Pour améliorer les performances, vous avez la possibilité de définir des attributs "rel" pour les actifs tels que `async` ou `defer`, qui indiqueront au navigateur quand et comment charger le fichier.

#### 7. Utiliser Minify avec W3 Total Cache

[https://www.boldgrid.com/support/w3-total-cache/how-to-use-manual-minify-for-css-and-js/](https://www.boldgrid.com/support/w3-total-cache/how-to-use-manual-minify-for-css-and-js/)

![Image](https://lh6.googleusercontent.com/2UFu5etWpFTGn3zroHJpruvWBPej-oddfznvHxELPdMVcE5ZR_zWEXI7qlf_c4zBmVv7LLk0XicDSYF2ThbrszkVQ-8bsf-wdWpzzdaDcvNqGYrHZm_hB9MOWW4-pwRvuE8cetXGN16zjwLzBGeFYiE)

L'assistant d'aide Minify dans Total Cache vous permettra de spécifier quels fichiers JS et CSS charger par modèle, vous permettant d'avoir un contrôle précis sur quels actifs se chargent quand et où. Pour utiliser l'assistant, vous devez régler Minify sur le mode manuel dans les Paramètres Généraux, puis visiter la page Minify pour lancer l'assistant d'aide.

![Image](https://lh6.googleusercontent.com/eDzBcbl8IRpYa7pemPu5PIkaRiLraeh3C9BsQUr_vlLV7TC_P8cT4j1qKriR56TAIW5XBDZZp8TPYC2oxYwwL01piriceVRg7rwW2VIuvcmmgaG952BMSgiIp0BdV55Efp7qFEyS8Sq49yWfDLcXmQs)

### 8. Indices DNS Preconnect & Prefetch

Si votre site utilise plusieurs scripts tiers, l'emplacement où ces scripts sont hébergés sera considéré comme un domaine cross-origin. Ce domaine tiers devra être résolu en une adresse IP pour que le navigateur télécharge le fichier et complète la requête.

Le temps nécessaire pour que cette résolution DNS ait lieu peut introduire de la latence dans le chargement de la page, et l'utilisation de `preconnect` et `prefetch` indiquera au navigateur de gérer cela avant de récupérer l'actif. Cela peut aider à supprimer la latence introduite par la résolution d'un grand nombre de requêtes DNS pour les actifs en arrière-plan.

L'utilisation des liens `dns-prefetch` et `preconnect` aidera votre page à se charger plus rapidement en effectuant ces opérations pour une utilisation ultérieure. Le `dns-prefetch` effectuera une recherche DNS, tandis que `preconnect` établira la connexion au serveur. Cette connexion établie inclura également une poignée de main TLS, si elle est servie via HTTPS.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&lt;</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">link</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> rel=</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"preconnect"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> href=</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"https://fonts.googleapis.com/"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> crossorigin /&gt;</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&lt;</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">link</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> rel=</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"dns-prefetch"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> href=</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">"https://fonts.googleapis.com/"</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#62c8f3;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> /&gt;</span></p></td></tr></tbody></table>

L'indice `preconnect` doit être utilisé avec parcimonie, et uniquement pour les actifs les plus critiques utilisés dans la fenêtre d'affichage lors du chargement initial de la page. Pour les actifs non critiques, l'utilisation de l'indice `dns-prefetch` uniquement est recommandée.

### 9. Optimisation des images

L'optimisation des images fait référence à la pratique consistant pour un site web à livrer l'image de la plus haute qualité avec le bon format, la bonne résolution et les bonnes dimensions pour l'appareil et la fenêtre d'affichage qui y accèdent. Cela est fait dans l'intention de garder la taille du fichier aussi petite que possible. Il existe plusieurs niveaux lors de l'optimisation de vos images, notamment la suppression des métadonnées, la conversion vers un format différent, le redimensionnement et le chargement différé (lazy loading).

#### Suppression des métadonnées d'image

L'un des moyens de réduire la taille du fichier d'une image est de supprimer toutes les métadonnées attachées au fichier. Ces données peuvent inclure des informations sur l'appareil photo utilisé pour prendre la photo, les coordonnées GPS, le propriétaire du fichier, les commentaires, une vignette, la date, la description, les mots-clés et bien plus encore.

Il existe plusieurs types de métadonnées qui peuvent être ajoutées aux images, notamment EXIF, IPTC, XMP. La suppression de ces données aidera à réduire la taille du fichier de l'image. Un avantage supplémentaire est que la suppression des métadonnées empêche ces détails d'être partagés publiquement.

#### Formats d'image (WebP)

WebP est un format de compression pour les images développé par Google. Lors de l'optimisation de vos images pour la vitesse, l'utilisation de WebP est le format recommandé pour les sites web. La plupart des navigateurs modernes prennent désormais en charge le format d'image WebP. Il existe de nombreux plugins WordPress qui offrent ce type de conversion d'image et la plupart aident même avec les redirections pour automatiser le processus et une option de secours au cas où le navigateur ne prendrait pas en charge le format WebP.

#### Redimensionnement dynamique des images

Lorsque différents appareils sont utilisés pour accéder à votre page web, la taille d'image nécessaire variera en fonction de la fenêtre d'affichage du visiteur. Les tailles d'image dynamiques peuvent être utilisées pour faire en sorte que chacun de ces appareils charge l'image avec une taille adaptée spécifiquement à la fenêtre d'affichage où le site est rendu.

Un excellent exemple de cela serait l'image héros (hero image) sur votre site web. Alors qu'un ordinateur de bureau aurait probablement besoin de la version pleine taille de cette image, la fenêtre d'affichage étroite d'un appareil mobile pourrait n'avoir besoin que d'une image qui fait 20 % de cette taille. Fournir au navigateur la taille plus petite réduirait le temps nécessaire pour télécharger le fichier et l'afficher.

Il existe de nombreux plugins WordPress et fournisseurs de CDN qui offrent un redimensionnement dynamique pour les images. La solution que vous choisissez doit être basée sur votre public. Si vos visiteurs sont principalement locaux et que votre trafic n'est pas à volume élevé, le coût d'un CDN pour ce service peut l'emporter sur les avantages pour vous, donc l'utilisation d'un plugin WordPress peut être votre meilleure option.

### 10. Chargement différé (Lazy Loading) des images et autres intégrations

Le chargement différé est la pratique consistant à identifier les actifs non critiques et à s'assurer qu'ils ne se chargent que plus tard, selon les besoins, pour rendre la page dans le navigateur. Dans le contexte des images, le chargement différé est généralement basé sur une interaction de l'utilisateur telle que le défilement, et charge les images nécessaires à mesure qu'un utilisateur s'en approche.

Le chargement différé permet au premier rendu de se produire plus rapidement, car il indique au navigateur de ne charger que les ressources critiques nécessaires pour afficher ce qui est rendu dans la fenêtre d'affichage. Ensuite, au fur et à mesure que vous faites défiler, l'application peut détecter quand des ressources (telles que des images ou des intégrations) sont nécessaires et initialiser le téléchargement.

W3 Total Cache offre le chargement différé pour les images. Et la mise à niveau vers Pro vous donne la possibilité de charger en différé les cartes Google Maps.

### Utilisation de façades d'images pour les éléments interactifs

L'un des plus gros problèmes que les auteurs rencontrent est d'avoir plusieurs intégrations vidéo de fournisseurs tels que Youtube ou Vimeo. Le chargement de ces vidéos forcera votre site à effectuer des recherches DNS, à établir des connexions à ces serveurs tiers en arrière-plan et à télécharger les éléments nécessaires pour rendre le contenu.

Fournir une image qui est servie depuis le domaine de votre site comme point d'interaction pour déclencher le chargement de ces types d'intégrations de contenu peut vous faire gagner un temps précieux lors du rendu de votre page web. Cela évite également à l'utilisateur de télécharger du Javascript et du CSS pour un élément qu'il ne va pas utiliser, car la vidéo ne s'affiche pas à moins que l'utilisateur ne clique spécifiquement sur le lien d'ancrage de l'image pour la déclencher.

Cela est également vrai pour d'autres éléments interactifs tels que les intégrations de chat ou d'autres éléments interactifs qui ne sont pas hébergés sur votre serveur et qui sont servis à votre visiteur à partir d'un service distant.

## Audits de pages individuelles

Après avoir optimisé la configuration de votre site, il est recommandé de tester vos pages individuelles et de désactiver tous les actifs qui ne sont pas nécessaires sur celles-ci. Cela peut être fait en utilisant des fonctions WordPress pour désenregistrer et retirer de la file d'attente tous les scripts ou styles chargés par des plugins non utilisés, ou il existe des plugins WordPress qui vous aideront à le faire depuis l'interface.

Pour ce faire, vous devrez mesurer chaque page individuelle et utiliser l'onglet Réseau dans l'Inspecteur pour déterminer quels actifs se chargent par page. Une fois que vous avez ces informations, vous pouvez déterminer si les actifs sont nécessaires ou s'ils se chargent inutilement sur une page.

C'est un problème courant avec les plugins qui ont une sortie frontale, et il peut être facilement résolu en identifiant les pages où l'actif est nécessaire pour que le plugin fonctionne, puis en utilisant une fonction WordPress avec une logique conditionnelle, pour s'assurer que ces actifs ne sont chargés que sur une base "au besoin".

Cet exemple concerne un plugin qui est utilisé sur 3 pages - À propos, Contact et Gestion. En ciblant toute page qui n'est pas l'une de celles-ci en utilisant un `!` devant la conditionnelle `is_page`, nous pouvons utiliser une instruction if else pour supprimer les scripts ou les styles. Si cette condition n'est pas remplie, alors les opérations normales se produiraient et les actifs du plugin seraient inclus.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">if</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> ( !is_page( </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">array</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">( </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'about-us'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'contact'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'management'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> ) ) ) {</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">// soit dans à propos, contact ou gestion, ne rien faire</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; &nbsp; } </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">else</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> {</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; &nbsp; </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#888888;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">// Désenregistrer les scripts et les styles</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; &nbsp; wp_dequeue_style( </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'handle'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> );</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp; &nbsp; we_dequeue_script( </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'handle'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> );</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">}</span></p></td></tr></tbody></table>

Vous pouvez également désactiver l'ensemble du plugin s'il ne s'agit pas de l'une des pages du tableau en utilisant l'extrait de code suivant qui se déclenche sur le hook d'action `wp`.

<table style="border:none;border-collapse:collapse;"><colgroup></colgroup><tbody><tr style="height:0pt"><td style="vertical-align:top;background-color:#333333;padding:5pt 5pt 5pt 5pt;overflow:hidden;overflow-wrap:break-word;"><p dir="ltr" style="line-height:1.38;margin-top:0pt;margin-bottom:0pt;"><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">function</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffaa;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">disable_plugin</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">() { </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">if</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> ( !is_page( </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#fcc28c;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">array</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> ( </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'about-us'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'contact'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'management'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> ) ) ) { </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">deactivate_plugins(</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'plugin/main-file-plugin.php'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">); </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"> &nbsp; &nbsp; } </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">} </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">add_action(</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'wp'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">, </span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#a2fca2;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">'disable_plugin'</span><span style="font-size:11pt;font-family:Consolas,sans-serif;color:#ffffff;background-color:#333333;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">);</span></p></td></tr></tbody></table>